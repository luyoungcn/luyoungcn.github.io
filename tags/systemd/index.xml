<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Systemd on Luyangã®Blog</title>
    <link>/tags/systemd/</link>
    <description>Recent content in Systemd on Luyangã®Blog</description>
    <generator>Hugo</generator>
    <language>en-US</language>
    <lastBuildDate>Sat, 11 Oct 2025 23:30:00 +0800</lastBuildDate>
    <atom:link href="/tags/systemd/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ğŸ§©  Dracut vs Initramfs-tools ä¸€åœºLinuxæ—©æœŸå¼•å¯¼çš„æ·±åº¦å˜é©</title>
      <link>/posts/--dracut-vs-initramfs-tools-%E4%B8%80%E5%9C%BAlinux%E6%97%A9%E6%9C%9F%E5%BC%95%E5%AF%BC%E7%9A%84%E6%B7%B1%E5%BA%A6%E5%8F%98%E9%9D%A9/</link>
      <pubDate>Sat, 11 Oct 2025 23:30:00 +0800</pubDate>
      <guid>/posts/--dracut-vs-initramfs-tools-%E4%B8%80%E5%9C%BAlinux%E6%97%A9%E6%9C%9F%E5%BC%95%E5%AF%BC%E7%9A%84%E6%B7%B1%E5%BA%A6%E5%8F%98%E9%9D%A9/</guid>
      <description>&lt;h1 id=&#34;dracut-vs-initramfs-tools-ä¸€åœºlinuxæ—©æœŸå¼•å¯¼çš„æ·±åº¦å˜é©&#34;&gt;ğŸ§©Dracut vs. Initramfs-tools: ä¸€åœºLinuxæ—©æœŸå¼•å¯¼çš„æ·±åº¦å˜é©&lt;/h1&gt;&#xA;&lt;p&gt;åœ¨Linuxç³»ç»Ÿçš„å¯åŠ¨é“¾æ¡ä¸­ï¼Œä¸€ä¸ªçœ‹ä¼¼çŸ­æš‚å´è‡³å…³é‡è¦çš„é˜¶æ®µæ˜¯&lt;code&gt;initramfs&lt;/code&gt;ï¼ˆInitial RAM Filesystemï¼‰çš„åŠ è½½å’Œæ‰§è¡Œã€‚å®ƒçš„æ ¸å¿ƒä»»åŠ¡æ˜¯æ­å»ºä¸€ä¸ªä¸´æ—¶çš„æ ¹æ–‡ä»¶ç³»ç»Ÿï¼ŒåŠ è½½å¿…è¦çš„é©±åŠ¨ï¼ˆå¦‚å­˜å‚¨ã€æ–‡ä»¶ç³»ç»Ÿã€åŠ å¯†æ¨¡å—ï¼‰ï¼Œå¹¶æœ€ç»ˆæŒ‚è½½çœŸå®çš„æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œå°†æ§åˆ¶æƒäº¤ç»™ç³»ç»Ÿçš„&lt;code&gt;init&lt;/code&gt;è¿›ç¨‹ï¼ˆå¦‚&lt;code&gt;systemd&lt;/code&gt;ï¼‰ã€‚é•¿æœŸä»¥æ¥ï¼ŒDebianåŠå…¶è¡ç”Ÿç‰ˆï¼ˆå¦‚Ubuntuï¼‰ä¾èµ–&lt;code&gt;initramfs-tools&lt;/code&gt;æ¥ç”Ÿæˆè¿™ä¸ªåˆå§‹ç¯å¢ƒï¼Œè€ŒRed Hatç”Ÿæ€åˆ™é€‰æ‹©äº†æ›´ä¸ºç°ä»£çš„&lt;code&gt;dracut&lt;/code&gt;ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å¦‚ä»Šï¼Œéšç€Debian 13 (&amp;ldquo;Trixie&amp;rdquo;) å’Œ Ubuntu 24.04 LTS ç­‰ä¸»æµå‘è¡Œç‰ˆçº·çº·è½¬å‘&lt;code&gt;dracut&lt;/code&gt;ä½œä¸ºé»˜è®¤é€‰é¡¹ï¼Œè¿™åœºå…³äºæ—©æœŸå¼•å¯¼å·¥å…·çš„å˜é©å·²ç»ä»æŠ€æœ¯è®¨è®ºèµ°å‘äº†å¹¿æ³›å®è·µã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è¿™ä¸¤è€…çš„æŠ€æœ¯æ¶æ„ã€æ ¸å¿ƒå·®å¼‚ï¼Œå¹¶å±•æœ›Linuxæ—©æœŸå¼•å¯¼çš„æœªæ¥ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;1-ä¸¤å¤§ä¸»è§’æŠ€æœ¯æ¶æ„ä¸å“²å­¦&#34;&gt;1. ä¸¤å¤§ä¸»è§’ï¼šæŠ€æœ¯æ¶æ„ä¸å“²å­¦&lt;/h2&gt;&#xA;&lt;p&gt;è¦ç†è§£å®ƒä»¬çš„å·®å¼‚ï¼Œé¦–å…ˆå¿…é¡»ç†è§£å®ƒä»¬å„è‡ªæ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®ƒä»¬çš„è®¾è®¡å“²å­¦ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;initramfs-toolsè„šæœ¬é©±åŠ¨çš„ä¼ ç»Ÿæ´¾&#34;&gt;&lt;code&gt;initramfs-tools&lt;/code&gt;ï¼šè„šæœ¬é©±åŠ¨çš„ä¼ ç»Ÿæ´¾&lt;/h3&gt;&#xA;&lt;p&gt;&lt;code&gt;initramfs-tools&lt;/code&gt;æ˜¯ä¸ºDebianè®¾è®¡çš„&lt;code&gt;initramfs&lt;/code&gt;ç”Ÿæˆæ¡†æ¶ã€‚å®ƒçš„å“²å­¦æ˜¯&lt;strong&gt;ç®€å•ã€é€æ˜ã€åŸºäºé’©å­ï¼ˆHook-basedï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;ç”¨é€”ä¸å“²å­¦:&lt;/strong&gt;&#xA;å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡ä¸€ç³»åˆ—æœ‰åºçš„Shellè„šæœ¬ï¼ˆhooksï¼‰æ¥æ„å»º&lt;code&gt;initramfs&lt;/code&gt;ã€‚å¼€å‘è€…æˆ–ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥é€šè¿‡æ·»åŠ è‡ªå®šä¹‰è„šæœ¬æ¥æ‰©å±•å…¶åŠŸèƒ½ã€‚è¿™ç§æ–¹å¼å¯¹äºç†Ÿæ‚‰Shellç¼–ç¨‹çš„ç”¨æˆ·æ¥è¯´éå¸¸ç›´è§‚ï¼Œä¸€åˆ‡çš†ä¸ºè„šæœ¬ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;æŠ€æœ¯æ¶æ„:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒå‘½ä»¤&lt;/strong&gt;: &lt;code&gt;update-initramfs&lt;/code&gt; æ˜¯ç”¨æˆ·ä¸ä¹‹äº¤äº’çš„ä¸»è¦å·¥å…·ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;é…ç½®ç›®å½•&lt;/strong&gt;: &lt;code&gt;/etc/initramfs-tools/&lt;/code&gt; å­˜æ”¾ä¸»è¦é…ç½®æ–‡ä»¶&lt;code&gt;initramfs.conf&lt;/code&gt;å’Œç”¨æˆ·è‡ªå®šä¹‰æ¨¡å—ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;é’©å­è„šæœ¬ (Hooks)&lt;/strong&gt;: ä½äº&lt;code&gt;/usr/share/initramfs-tools/hooks&lt;/code&gt;å’Œ&lt;code&gt;/etc/initramfs-tools/hooks&lt;/code&gt;ã€‚è¿™äº›è„šæœ¬åœ¨ç”Ÿæˆ&lt;code&gt;initramfs&lt;/code&gt;æ—¶è¢«æ‰§è¡Œï¼Œè´Ÿè´£å°†å¿…è¦çš„æ–‡ä»¶ï¼ˆå¦‚äºŒè¿›åˆ¶ç¨‹åºã€åº“ã€å†…æ ¸æ¨¡å—ï¼‰å¤åˆ¶åˆ°ä¸´æ—¶çš„æ„å»ºç›®å½•ä¸­ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;lvm2&lt;/code&gt;é’©å­ä¼šç¡®ä¿&lt;code&gt;lvm&lt;/code&gt;äºŒè¿›åˆ¶æ–‡ä»¶å’Œç›¸å…³åº“è¢«åŒ…å«è¿›å»ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;å¼•å¯¼è„šæœ¬ (Boot Scripts)&lt;/strong&gt;: ä½äº&lt;code&gt;/usr/share/initramfs-tools/scripts/&lt;/code&gt;ï¼Œè¿™äº›è„šæœ¬è¢«æ‰“åŒ…åˆ°&lt;code&gt;initramfs&lt;/code&gt;å†…éƒ¨ï¼Œåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶äºæ—©æœŸç”¨æˆ·ç©ºé—´ï¼ˆearly userspaceï¼‰ä¸­æ‰§è¡Œï¼Œè´Ÿè´£è®¾å¤‡å‘ç°ã€æ¨¡å—åŠ è½½å’Œæ ¹æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;ç”Ÿæˆè¿‡ç¨‹&lt;/strong&gt;: å½“&lt;code&gt;update-initramfs&lt;/code&gt;è¿è¡Œæ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œä¾æ¬¡æ‰§è¡Œæ‰€æœ‰é’©å­è„šæœ¬æ¥å¡«å……è¿™ä¸ªç›®å½•ï¼Œç„¶åå°†ç›®å½•å†…å®¹æ‰“åŒ…æˆä¸€ä¸ª&lt;code&gt;cpio&lt;/code&gt;å½’æ¡£ï¼Œå¹¶ç”¨&lt;code&gt;gzip&lt;/code&gt;ï¼ˆæˆ–å…¶ä»–å‹ç¼©å·¥å…·ï¼‰å‹ç¼©ï¼Œæœ€ç»ˆç”Ÿæˆ&lt;code&gt;initrd.img&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;å…¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª&lt;strong&gt;åŠ æ³•è¿‡ç¨‹&lt;/strong&gt;ï¼šé»˜è®¤åŒ…å«ä¸€ä¸ªåŸºç¡€é›†åˆï¼Œç„¶åé€šè¿‡é’©å­ä¸æ–­å‘å…¶ä¸­æ·»åŠ éœ€è¦çš„å†…å®¹ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;dracutäº‹ä»¶é©±åŠ¨çš„ç°ä»£ä¸»ä¹‰è€…&#34;&gt;&lt;code&gt;dracut&lt;/code&gt;ï¼šäº‹ä»¶é©±åŠ¨çš„ç°ä»£ä¸»ä¹‰è€…&lt;/h3&gt;&#xA;&lt;p&gt;&lt;code&gt;dracut&lt;/code&gt; (Generic RAMDisk Creation Tool) ç”±Red Hatå¼€å‘ï¼Œå…¶è®¾è®¡å“²å­¦æ˜¯&lt;strong&gt;æ¨¡å—åŒ–ã€äº‹ä»¶é©±åŠ¨ã€æŒ‰éœ€ç”Ÿæˆ&lt;/strong&gt;ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;ç”¨é€”ä¸å“²å­¦:&lt;/strong&gt;&#xA;&lt;code&gt;dracut&lt;/code&gt;æ—¨åœ¨åˆ›å»ºä¸€ä¸ªå°½å¯èƒ½å°çš„ã€ä»…åŒ…å«å½“å‰ç³»ç»Ÿå¯åŠ¨æ‰€éœ€é©±åŠ¨å’Œå·¥å…·çš„&lt;code&gt;initramfs&lt;/code&gt;ã€‚å®ƒé¿å…ç¡¬ç¼–ç çš„è„šæœ¬é€»è¾‘ï¼Œè½¬è€Œä¸¥é‡ä¾èµ–&lt;code&gt;udev&lt;/code&gt;åœ¨å¯åŠ¨æ—¶åŠ¨æ€å‘ç°å’Œå¤„ç†ç¡¬ä»¶ã€‚å®ƒçš„å£å·æ˜¯ï¼šâ€œDracut contains as little as possible and relies on kernel features and udev to do the rest.â€&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;æŠ€æœ¯æ¶æ„:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒå‘½ä»¤&lt;/strong&gt;: &lt;code&gt;dracut&lt;/code&gt;ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;æ¨¡å—åŒ–è®¾è®¡&lt;/strong&gt;: &lt;code&gt;dracut&lt;/code&gt;çš„æ ¸å¿ƒæ˜¯æ¨¡å—ã€‚æ‰€æœ‰åŠŸèƒ½éƒ½è¢«ç»„ç»‡åœ¨ä½äº&lt;code&gt;/usr/lib/dracut/modules.d/&lt;/code&gt;çš„æ¨¡å—ä¸­ã€‚æ¯ä¸ªæ¨¡å—æ˜¯ä¸€ä¸ªç›®å½•ï¼ŒåŒ…å«å®šä¹‰å¥½çš„è„šæœ¬ï¼Œå¦‚&lt;code&gt;module-setup.sh&lt;/code&gt;ï¼ˆåœ¨ç”Ÿæˆæ—¶æ‰§è¡Œï¼Œå®‰è£…æ–‡ä»¶ï¼‰ã€&lt;code&gt;install&lt;/code&gt;ï¼ˆå®‰è£…æ–‡ä»¶ï¼‰ã€&lt;code&gt;check&lt;/code&gt;ï¼ˆæ£€æŸ¥ä¾èµ–ï¼‰ç­‰ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;å†…çœå¼ç”Ÿæˆ (Introspection)&lt;/strong&gt;: è¿™æ˜¯&lt;code&gt;dracut&lt;/code&gt;çš„ç‹ç‰Œç‰¹æ€§ã€‚åœ¨é»˜è®¤çš„**â€œHost-Onlyâ€æ¨¡å¼**ä¸‹ï¼Œ&lt;code&gt;dracut&lt;/code&gt;ä¼šæ‰«æå½“å‰æ­£åœ¨è¿è¡Œçš„ç³»ç»Ÿï¼Œç²¾ç¡®åœ°æ‰¾å‡ºå¯åŠ¨åˆ°æ ¹æ–‡ä»¶ç³»ç»ŸæŒ‚è½½è¿™ä¸€æ­¥æ‰€å¿…éœ€çš„å†…æ ¸æ¨¡å—ã€äºŒè¿›åˆ¶æ–‡ä»¶å’Œé…ç½®ã€‚è¿™ä½¿å¾—ç”Ÿæˆçš„&lt;code&gt;initramfs&lt;/code&gt;æå…¶ç²¾ç®€ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;äº‹ä»¶é©±åŠ¨çš„è¿è¡Œæ—¶&lt;/strong&gt;: åœ¨å¯åŠ¨é˜¶æ®µï¼Œ&lt;code&gt;dracut&lt;/code&gt;å†…éƒ¨çš„&lt;code&gt;init&lt;/code&gt;è„šæœ¬ä¼šå¯åŠ¨ä¸€ä¸ªè½»é‡çº§çš„&lt;code&gt;udev&lt;/code&gt;å®ˆæŠ¤è¿›ç¨‹ã€‚å½“å†…æ ¸æ¢æµ‹åˆ°ç¡¬ä»¶ï¼ˆå¦‚ç¡¬ç›˜ï¼‰æ—¶ï¼Œ&lt;code&gt;udev&lt;/code&gt;ä¼šç”Ÿæˆäº‹ä»¶ï¼Œè§¦å‘ç›¸åº”çš„è§„åˆ™å’Œè„šæœ¬ï¼ˆä¾‹å¦‚ï¼ŒLVMå·è¢«å‘ç°åï¼Œè§¦å‘&lt;code&gt;lvm&lt;/code&gt;ç›¸å…³çš„è„šæœ¬è¿›è¡Œæ¿€æ´»ï¼‰ï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯åŠ¨æ€å’Œå¹¶è¡Œçš„ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;é…ç½®&lt;/strong&gt;: é…ç½®æ–‡ä»¶ä½äº&lt;code&gt;/etc/dracut.conf&lt;/code&gt;å’Œ&lt;code&gt;/etc/dracut.conf.d/&lt;/code&gt;ä¸‹çš„&lt;code&gt;.conf&lt;/code&gt;æ–‡ä»¶ï¼Œç”¨æˆ·é€šè¿‡ç®€å•çš„é…ç½®é¡¹ï¼ˆå¦‚&lt;code&gt;add_drivers+=&amp;quot;nvme&amp;quot;&lt;/code&gt;ï¼‰æ¥æ§åˆ¶ç”Ÿæˆè¿‡ç¨‹ï¼Œè€Œä¸æ˜¯ç¼–å†™å¤æ‚çš„é’©å­è„šæœ¬ã€‚&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;å…¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª&lt;strong&gt;æŒ‰éœ€å‘ç°çš„è¿‡ç¨‹&lt;/strong&gt;ï¼šå…ˆç¡®å®šç›®æ ‡ï¼ˆå¯åŠ¨å½“å‰ç³»ç»Ÿï¼‰ï¼Œç„¶åç²¾ç¡®åœ°æ‰“åŒ…è¾¾æˆç›®æ ‡æ‰€éœ€çš„æœ€å°å·¥å…·é›†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ğŸ§© Linux å†…æ ¸å¯åŠ¨é˜¶æ®µçš„ä¸´æ—¶æ ¹æ–‡ä»¶ç³»ç»ŸæŠ€æœ¯æ–‡æ¡£</title>
      <link>/posts/-linux-%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E9%98%B6%E6%AE%B5%E7%9A%84%E4%B8%B4%E6%97%B6%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/</link>
      <pubDate>Sat, 11 Oct 2025 23:30:00 +0800</pubDate>
      <guid>/posts/-linux-%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E9%98%B6%E6%AE%B5%E7%9A%84%E4%B8%B4%E6%97%B6%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/</guid>
      <description>&lt;h1 id=&#34;-linux-å†…æ ¸å¯åŠ¨é˜¶æ®µçš„ä¸´æ—¶æ ¹æ–‡ä»¶ç³»ç»ŸæŠ€æœ¯æ–‡æ¡£&#34;&gt;ğŸ§© Linux å†…æ ¸å¯åŠ¨é˜¶æ®µçš„ä¸´æ—¶æ ¹æ–‡ä»¶ç³»ç»ŸæŠ€æœ¯æ–‡æ¡£&lt;/h1&gt;&#xA;&lt;h2 id=&#34;-1-æ¦‚è¿°overview&#34;&gt;ğŸ“˜ 1. æ¦‚è¿°ï¼ˆOverviewï¼‰&lt;/h2&gt;&#xA;&lt;p&gt;åœ¨ Linux å¯åŠ¨çš„æ—©æœŸé˜¶æ®µï¼Œå†…æ ¸å°šæœªæŒ‚è½½å®é™…çš„æ ¹æ–‡ä»¶ç³»ç»Ÿï¼ˆä¾‹å¦‚ eMMC ä¸Šçš„ ext4 æˆ– NFS æ ¹ç›®å½•ï¼‰ã€‚&lt;br&gt;&#xA;ä¸ºäº†è®©ç³»ç»Ÿå…·å¤‡è¿è¡ŒåŸºæœ¬å‘½ä»¤ã€åŠ è½½é©±åŠ¨ã€æŒ‚è½½çœŸå®æ ¹æ–‡ä»¶ç³»ç»Ÿçš„èƒ½åŠ›ï¼Œ&lt;br&gt;&#xA;å†…æ ¸å¼•å…¥äº†ä¸€ç§ç§°ä¸º &lt;strong&gt;ä¸´æ—¶æ ¹æ–‡ä»¶ç³»ç»Ÿ (Early Root Filesystem)&lt;/strong&gt; çš„æœºåˆ¶ã€‚&lt;/p&gt;&#xA;&lt;p&gt;è¯¥æœºåˆ¶åœ¨ä¸åŒå†…æ ¸æ—¶ä»£æœ‰ä¸¤ç§ä¸»è¦å®ç°ï¼š&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;é˜¶æ®µ&lt;/th&gt;&#xA;          &lt;th&gt;æŠ€æœ¯åç§°&lt;/th&gt;&#xA;          &lt;th&gt;å®ç°æ–¹å¼&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Linux 2.4 åŠä»¥å‰&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;initrd (initial RAM disk)&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;å°†å‹ç¼©é•œåƒåŠ è½½ä¸ºè™šæ‹Ÿå—è®¾å¤‡ &lt;code&gt;/dev/ram0&lt;/code&gt;ï¼Œå†æŒ‚è½½&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Linux 2.6 åŠä»¥å&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;initramfs (initial RAM filesystem)&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;å°† &lt;code&gt;cpio&lt;/code&gt; å‹ç¼©åŒ…ç›´æ¥è§£åŒ…è¿›å†…å­˜æ–‡ä»¶ç³»ç»Ÿï¼ˆramfs/tmpfsï¼‰&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;-2-å¯åŠ¨é˜¶æ®µæµç¨‹æ¦‚è§ˆ&#34;&gt;âš™ï¸ 2. å¯åŠ¨é˜¶æ®µæµç¨‹æ¦‚è§ˆ&lt;/h2&gt;&#xA;&lt;p&gt;Linux å¯åŠ¨é˜¶æ®µæ¶‰åŠä» &lt;strong&gt;bootloader â†’ å†…æ ¸ â†’ initramfs/initrd â†’ ç”¨æˆ·ç©ºé—´ init&lt;/strong&gt; çš„å®Œæ•´é“¾è·¯ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;1. BIOS/UEFI&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   â†“&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2. Bootloader (GRUB/U-Boot)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   - åŠ è½½ vmlinuz (å†…æ ¸æ˜ åƒ)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   - åŠ è½½ initramfs/initrd åˆ°å†…å­˜&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   â†“&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;3. Linux Kernel&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   - åˆå§‹åŒ–å†…æ ¸å­ç³»ç»Ÿ&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   - åˆ›å»º rootfs (ramfs/tmpfs)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   - è§£åŒ… initramfs æˆ–æŒ‚è½½ initrd&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   - æ‰§è¡Œä¸´æ—¶æ ¹ä¸­çš„ /init&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   â†“&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;4. /init&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   - æ¢æµ‹çœŸå®æ ¹æ–‡ä»¶ç³»ç»Ÿï¼ˆeMMC/NFS/overlayï¼‰&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   - æŒ‚è½½ç›®æ ‡æ ¹ç›®å½•&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   - è°ƒç”¨ `switch_root` æˆ– `pivot_root`&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   â†“&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;5. å¯åŠ¨çœŸæ­£çš„ /sbin/init æˆ– systemd&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;&#xA;&lt;h2 id=&#34;-3-æŠ€æœ¯æ¶æ„ä¸æ•°æ®æµ&#34;&gt;ğŸ§© 3. æŠ€æœ¯æ¶æ„ä¸æ•°æ®æµ&lt;/h2&gt;&#xA;&lt;h3 id=&#34;31-é€»è¾‘ç»“æ„å›¾&#34;&gt;3.1 é€»è¾‘ç»“æ„å›¾&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚ Bootloader                 â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚  - åŠ è½½ Kernel + Initramfs â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;             â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚ Linux Kernel               â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚  - åˆ›å»º rootfs (ramfs)     â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚  - è§£åŒ… initramfs.cpio.gz  â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚  - æ‰§è¡Œ /init              â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;             â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚ /init ç”¨æˆ·æ€è„šæœ¬           â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚  - æ¢æµ‹çœŸå®æ ¹æ–‡ä»¶ç³»ç»Ÿ      â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚  - æŒ‚è½½ /new_root          â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚  - switch_root /new_root   â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;             â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚ çœŸæ­£æ ¹æ–‡ä»¶ç³»ç»Ÿ (ext4/NFS)  â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”‚ /sbin/init â†’ systemd/init  â”‚&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;&#xA;&lt;h2 id=&#34;-4-initramfs-å†…éƒ¨ç»“æ„&#34;&gt;ğŸ§± 4. Initramfs å†…éƒ¨ç»“æ„&lt;/h2&gt;&#xA;&lt;p&gt;Initramfs æ˜¯ä¸€ä¸ª &lt;strong&gt;cpio æ ¼å¼çš„å‹ç¼©åŒ…&lt;/strong&gt;ï¼ŒåŒ…å«æ—©æœŸå¯åŠ¨æ‰€éœ€çš„æœ€å°æ–‡ä»¶é›†ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ğŸ“˜Linux åˆå§‹åŒ–ç³»ç»ŸæŠ€æœ¯æ–‡æ¡£ï¼šä» SysVinit åˆ° systemd çš„æ¼”è¿›</title>
      <link>/posts/linux-%E5%88%9D%E5%A7%8B%E5%8C%96%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E4%BB%8E-sysvinit-%E5%88%B0-systemd-%E7%9A%84%E6%BC%94%E8%BF%9B/</link>
      <pubDate>Thu, 18 Sep 2025 02:30:00 +0800</pubDate>
      <guid>/posts/linux-%E5%88%9D%E5%A7%8B%E5%8C%96%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E4%BB%8E-sysvinit-%E5%88%B0-systemd-%E7%9A%84%E6%BC%94%E8%BF%9B/</guid>
      <description>&lt;h1 id=&#34;linux-åˆå§‹åŒ–ç³»ç»ŸæŠ€æœ¯æ–‡æ¡£ä»-sysvinit-åˆ°-systemd-çš„æ¼”è¿›&#34;&gt;Linux åˆå§‹åŒ–ç³»ç»ŸæŠ€æœ¯æ–‡æ¡£ï¼šä» SysVinit åˆ° systemd çš„æ¼”è¿›&lt;/h1&gt;&#xA;&lt;h2 id=&#34;1-æ¦‚è¿°&#34;&gt;1. æ¦‚è¿°&lt;/h2&gt;&#xA;&lt;p&gt;Linux åˆå§‹åŒ–ç³»ç»Ÿæ˜¯æ“ä½œç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹ä¸­ç¬¬ä¸€ä¸ªç”¨æˆ·ç©ºé—´è¿›ç¨‹ï¼ˆPID 1ï¼‰ï¼Œè´Ÿè´£å¼•å¯¼ç”¨æˆ·ç©ºé—´ç¯å¢ƒã€ç®¡ç†ç³»ç»ŸæœåŠ¡å’Œè¿›ç¨‹ã€‚æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº† Linux åˆå§‹åŒ–ç³»ç»Ÿçš„å‘å±•å†ç¨‹ã€æŠ€æœ¯ç‰¹ç‚¹åŠå„ç³»ç»Ÿçš„æ¯”è¾ƒã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;2-åˆå§‹åŒ–ç³»ç»Ÿå‘å±•å†ç¨‹&#34;&gt;2. åˆå§‹åŒ–ç³»ç»Ÿå‘å±•å†ç¨‹&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-mermaid&#34; data-lang=&#34;mermaid&#34;&gt;timeline&#xA;    title Linux åˆå§‹åŒ–ç³»ç»Ÿå‘å±•æ—¶é—´çº¿&#xA;    section ä¼ ç»Ÿæ—¶æœŸ&#xA;        1991 : SysVinit æˆä¸ºä¸»æµ&#xA;                : åŸºäºè¿è¡Œçº§åˆ«&#xA;                : ä¸²è¡Œå¯åŠ¨æœºåˆ¶&#xA;    section æ¼”è¿›æ—¶æœŸ&#xA;        2006 : Ubuntu å¼€å‘ Upstart&#xA;              : äº‹ä»¶é©±åŠ¨æ¶æ„&#xA;              : åˆæ­¥å¹¶è¡Œå¯åŠ¨&#xA;        2007 : Gentoo æ¨å‡º OpenRC&#xA;              : ä¾èµ–é©±åŠ¨å¯åŠ¨&#xA;              : å…¼å®¹ä¼ ç»Ÿè„šæœ¬&#xA;    section ç°ä»£æ—¶æœŸ&#xA;        2010 : systemd è¯ç”Ÿ&#xA;              : å…¨é¢å¹¶è¡Œå¯åŠ¨&#xA;              : ç»Ÿä¸€ç³»ç»Ÿç®¡ç†&#xA;        2010s : ä¸“æœ‰é¢†åŸŸæ–¹æ¡ˆ&#xA;               : procd (åµŒå…¥å¼)&#xA;               : runit (è½»é‡çº§)&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;3-ä¸»è¦åˆå§‹åŒ–ç³»ç»Ÿè¯¦è§£&#34;&gt;3. ä¸»è¦åˆå§‹åŒ–ç³»ç»Ÿè¯¦è§£&lt;/h2&gt;&#xA;&lt;h3 id=&#34;31-sysvinit-system-v-init&#34;&gt;3.1 SysVinit (System V Init)&lt;/h3&gt;&#xA;&lt;p&gt;â€‹&lt;strong&gt;â€‹è¯ç”Ÿæ—¶é—´â€‹&lt;/strong&gt;â€‹ï¼š1980å¹´ä»£ï¼ˆæºè‡ªUNIX System Vï¼‰&lt;/p&gt;</description>
    </item>
    <item>
      <title>ğŸ“˜systemd å•å…ƒæ–‡ä»¶</title>
      <link>/posts/systemd-%E5%8D%95%E5%85%83%E6%96%87%E4%BB%B6/</link>
      <pubDate>Tue, 16 Sep 2025 02:30:00 +0800</pubDate>
      <guid>/posts/systemd-%E5%8D%95%E5%85%83%E6%96%87%E4%BB%B6/</guid>
      <description>&lt;p&gt;[[systemd]]&lt;/p&gt;&#xA;&lt;h1 id=&#34;systemd-å•å…ƒæ–‡ä»¶&#34;&gt;systemd å•å…ƒæ–‡ä»¶&lt;/h1&gt;&#xA;&lt;p&gt;&lt;code&gt;systemd&lt;/code&gt; çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯å°†ç³»ç»Ÿé‡Œçš„ä¸€åˆ‡èµ„æºéƒ½æŠ½è±¡æˆâ€œå•å…ƒâ€ï¼ˆUnitï¼‰ã€‚å•å…ƒæ˜¯ &lt;code&gt;systemd&lt;/code&gt; ç®¡ç†çš„åŸºæœ¬å¯¹è±¡ï¼Œæ¶µç›–äº†æœåŠ¡ã€å¥—æ¥å­—ã€è®¾å¤‡ã€æŒ‚è½½ç‚¹ä¹ƒè‡³ç³»ç»ŸçŠ¶æ€ç­‰ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;å•å…ƒæ–‡ä»¶&lt;/strong&gt;å°±æ˜¯ç”¨æ¥å®šä¹‰ä¸€ä¸ªå•å…ƒçš„çº¯æ–‡æœ¬é…ç½®æ–‡ä»¶ã€‚å®ƒæ¸…æ™°åœ°æè¿°äº†è¿™ä¸ªå•å…ƒçš„å±æ€§ã€è¡Œä¸ºä»¥åŠå®ƒä¸å…¶ä»–å•å…ƒä¹‹é—´çš„å…³ç³»ã€‚è¿™äº›æ–‡ä»¶é‡‡ç”¨ç±»ä¼¼ INI çš„è¯­æ³•ï¼Œæ˜“äºé˜…è¯»å’Œç¼–å†™ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;æ–‡ä»¶ä½ç½®ä¸ä¼˜å…ˆçº§&#34;&gt;æ–‡ä»¶ä½ç½®ä¸ä¼˜å…ˆçº§&lt;/h2&gt;&#xA;&lt;p&gt;&lt;code&gt;systemd&lt;/code&gt; ä¼šä»å¤šä¸ªç›®å½•ä¸­åŠ è½½å•å…ƒæ–‡ä»¶ï¼Œå¹¶éµå¾ªä¸€å¥—æ˜ç¡®çš„ä¼˜å…ˆçº§è§„åˆ™&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;ç³»ç»Ÿçº§ï¼ˆåªè¯»åŒ…ï¼‰ï¼š&lt;code&gt;/usr/lib/systemd/system/&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;ç³»ç»Ÿçº§ï¼ˆæœ¬åœ°ç®¡ç†å‘˜è¦†å†™ï¼‰ï¼š&lt;code&gt;/etc/systemd/system/&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;è¿è¡Œæ—¶ï¼ˆä¸´æ—¶ï¼Œé‡å¯ä¸¢å¤±ï¼‰ï¼š&lt;code&gt;/run/systemd/system/&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;ä¼˜å…ˆçº§ï¼š&lt;code&gt;/etc&lt;/code&gt; è¦†ç›– &lt;code&gt;/run&lt;/code&gt; è¦†ç›– &lt;code&gt;/usr/lib&lt;/code&gt;ã€‚åŒåæ—¶ï¼Œé«˜ä¼˜å…ˆçº§ç›®å½•ç”Ÿæ•ˆã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;æ¨èä½¿ç”¨ &lt;code&gt;systemctl edit &amp;lt;unit&amp;gt;&lt;/code&gt; ç”Ÿæˆ drop-in è¦†ç›–ï¼Œé¿å…ç›´æ¥æ”¹å‘è¡Œæ–‡ä»¶ã€‚&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;/etc/systemd/system/&lt;/code&gt;ï¼šæœ€é«˜ä¼˜å…ˆçº§ã€‚ç³»ç»Ÿç®¡ç†å‘˜å­˜æ”¾è‡ªå®šä¹‰æˆ–ä¿®æ”¹åçš„å•å…ƒæ–‡ä»¶çš„åœ°æ–¹ã€‚è¿™é‡Œçš„é…ç½®ä¼šè¦†ç›–å…¶ä»–ä½ç½®çš„åŒåæ–‡ä»¶ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;/run/systemd/system/&lt;/code&gt;ï¼šç¬¬äºŒä¼˜å…ˆçº§ã€‚é€šå¸¸ç”±ç¨‹åºåœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºå•å…ƒæ–‡ä»¶ã€‚ç³»ç»Ÿé‡å¯åè¯¥ç›®å½•å†…å®¹ä¼šä¸¢å¤±ã€‚&lt;/li&gt;&#xA;&lt;li&gt;/usr/lib/systemd/system/&lt;code&gt;ï¼šæœ€ä½ä¼˜å…ˆçº§ã€‚é€šå¸¸ç”±è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼ˆå¦‚ &lt;/code&gt;apt&lt;code&gt;ã€&lt;/code&gt;yum`ï¼‰å®‰è£…çš„é»˜è®¤å•å…ƒæ–‡ä»¶å­˜æ”¾äºæ­¤ã€‚&lt;strong&gt;ä¸å»ºè®®ç›´æ¥ä¿®æ”¹è¿™é‡Œçš„æ–‡ä»¶&lt;/strong&gt;ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;æ ¸å¿ƒåŸåˆ™ï¼šå½“éœ€è¦ä¿®æ”¹ä¸€ä¸ªé»˜è®¤å•å…ƒæ–‡ä»¶æ—¶ï¼ˆä¾‹å¦‚ &lt;code&gt;sshd.service&lt;/code&gt;ï¼‰ï¼Œæ¨èä½¿ç”¨ &lt;code&gt;systemctl edit --full sshd.service&lt;/code&gt; å‘½ä»¤ã€‚å®ƒä¼šè‡ªåŠ¨å°†æ–‡ä»¶ä» &lt;code&gt;/usr/lib/systemd/system/&lt;/code&gt; å¤åˆ¶åˆ° &lt;code&gt;/etc/systemd/system/&lt;/code&gt; å¹¶æ‰“å¼€ç¼–è¾‘å™¨ï¼Œç¡®ä¿ä½ çš„ä¿®æ”¹å…·æœ‰æœ€é«˜ä¼˜å…ˆçº§ä¸”ä¸ä¼šåœ¨è½¯ä»¶åŒ…å‡çº§æ—¶è¢«è¦†ç›–ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;systemd-unit&#34;&gt;systemd unit&lt;/h2&gt;&#xA;&lt;p&gt;å®šä¹‰è¡Œä¸ºã€ä¾èµ–ä¸ç”Ÿå‘½å‘¨æœŸ&lt;/p&gt;&#xA;&lt;p&gt;ç®¡ç†çš„å¯¹è±¡ï¼šæœåŠ¡ã€å¥—æ¥å­—ã€è®¡æ—¶å™¨ã€æŒ‚è½½ç‚¹ç­‰ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å¸¸è§ç±»å‹ï¼š&lt;code&gt;service&lt;/code&gt;ã€&lt;code&gt;socket&lt;/code&gt;ã€&lt;code&gt;target&lt;/code&gt;ã€&lt;code&gt;timer&lt;/code&gt;ã€&lt;code&gt;path&lt;/code&gt;ã€&lt;code&gt;mount&lt;/code&gt;ã€&lt;code&gt;automount&lt;/code&gt;ã€&lt;code&gt;device&lt;/code&gt;ã€&lt;code&gt;slice&lt;/code&gt;ã€&lt;code&gt;scope&lt;/code&gt;ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;å•å…ƒå‘½åä¸å®ä¾‹åŒ–&#34;&gt;å•å…ƒå‘½åä¸å®ä¾‹åŒ–&lt;/h3&gt;&#xA;&lt;p&gt;æ–‡ä»¶åæ ¼å¼ï¼š&lt;code&gt;name.type&lt;/code&gt;ï¼Œä¾‹å¦‚ï¼š&lt;code&gt;nginx.service&lt;/code&gt;ã€&lt;code&gt;sshd.socket&lt;/code&gt;ã€‚&lt;/p&gt;&#xA;&lt;p&gt;æ¨¡æ¿å•å…ƒï¼š&lt;code&gt;name@.type&lt;/code&gt;ï¼Œå®ä¾‹åŒ–æ—¶ç”¨ &lt;code&gt;name@instance.type&lt;/code&gt;ï¼Œé€‚åˆ per-connection æˆ– per-deviceã€‚&lt;/p&gt;&#xA;&lt;p&gt;ä½ å½“å‰ä½¿ç”¨çš„æ˜¯æ¨¡æ¿æœåŠ¡ &lt;code&gt;dropbear@.service&lt;/code&gt; é…åˆ &lt;code&gt;dropbear.socket&lt;/code&gt; å®ç°æ¯è¿æ¥æ´¾ç”Ÿã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;å•å…ƒæ–‡ä»¶ç»“æ„&#34;&gt;å•å…ƒæ–‡ä»¶ç»“æ„&lt;/h2&gt;&#xA;&lt;p&gt;ä¸€ä¸ªå•å…ƒæ–‡ä»¶é€šå¸¸ç”±å‡ ä¸ªé…ç½®æ®µï¼ˆSectionï¼‰ç»„æˆï¼Œæ¯ä¸ªæ®µç”± &lt;code&gt;[æ–¹æ‹¬å·]&lt;/code&gt; æ ‡è¯†ã€‚å…¶ä¸­ï¼Œ&lt;code&gt;[Unit]&lt;/code&gt; å’Œ &lt;code&gt;[Install]&lt;/code&gt; æ˜¯å‡ ä¹æ‰€æœ‰å•å…ƒç±»å‹éƒ½é€šç”¨çš„ã€‚&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;[Unit]&lt;/code&gt;: é€šç”¨å…ƒä¿¡æ¯ã€ä¾èµ–ã€é¡ºåºã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;[Service]&lt;/code&gt;/&lt;code&gt;[Socket]&lt;/code&gt;/&lt;code&gt;[Timer]&lt;/code&gt;/â€¦ï¼šç±»å‹ä¸“å±çš„é…ç½®æ®µã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;[Install]&lt;/code&gt;: å¯ç”¨æ—¶çš„é™„ç€ç‚¹ï¼ˆWantedBy/RequiredBy/Alsoï¼‰ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;unit-æ®µé€šç”¨å…ƒæ•°æ®ä¸ä¾èµ–å…³ç³»&#34;&gt;&lt;code&gt;[Unit]&lt;/code&gt; æ®µï¼šé€šç”¨å…ƒæ•°æ®ä¸ä¾èµ–å…³ç³»&lt;/h3&gt;&#xA;&lt;p&gt;æ­¤æ®µå®šä¹‰äº†å•å…ƒçš„é€šç”¨å±æ€§ï¼Œå®ƒä¸å…³å¿ƒå•å…ƒçš„ç±»å‹ã€‚&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
