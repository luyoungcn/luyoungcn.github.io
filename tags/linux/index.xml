<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Linux on Luyangã®Blog</title>
    <link>/tags/linux/</link>
    <description>Recent content in Linux on Luyangã®Blog</description>
    <generator>Hugo</generator>
    <language>en-US</language>
    <lastBuildDate>Tue, 08 Jul 2025 02:30:00 +0800</lastBuildDate>
    <atom:link href="/tags/linux/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ğŸ“˜AArch64 ä¸‹ glibc `open()` è°ƒç”¨åˆ°å†…æ ¸ç³»ç»Ÿè°ƒç”¨å…¥å£çš„å…¨è·¯å¾„è§£æ</title>
      <link>/posts/aarch64-%E4%B8%8B-glibc-open-%E8%B0%83%E7%94%A8%E5%88%B0%E5%86%85%E6%A0%B8%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E5%85%A5%E5%8F%A3%E7%9A%84%E5%85%A8%E8%B7%AF%E5%BE%84%E8%A7%A3%E6%9E%90/</link>
      <pubDate>Tue, 08 Jul 2025 02:30:00 +0800</pubDate>
      <guid>/posts/aarch64-%E4%B8%8B-glibc-open-%E8%B0%83%E7%94%A8%E5%88%B0%E5%86%85%E6%A0%B8%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E5%85%A5%E5%8F%A3%E7%9A%84%E5%85%A8%E8%B7%AF%E5%BE%84%E8%A7%A3%E6%9E%90/</guid>
      <description>&lt;h1 id=&#34;aarch64-ä¸‹-glibc-open-è°ƒç”¨åˆ°å†…æ ¸ç³»ç»Ÿè°ƒç”¨å…¥å£çš„å…¨è·¯å¾„è§£æ&#34;&gt;ğŸ“˜AArch64 ä¸‹ glibc &lt;code&gt;open()&lt;/code&gt; è°ƒç”¨åˆ°å†…æ ¸ç³»ç»Ÿè°ƒç”¨å…¥å£çš„å…¨è·¯å¾„è§£æ&lt;/h1&gt;&#xA;&lt;h2 id=&#34;ç›®æ ‡&#34;&gt;ç›®æ ‡&lt;/h2&gt;&#xA;&lt;p&gt;æœ¬æ–‡æ¡£å¯¹ AArch64 (å³ ARM64) æ¶æ„ä¸‹ä» glibc ä¸­çš„ &lt;code&gt;open()&lt;/code&gt; å‡½æ•°è°ƒç”¨è‡³ Linux å†…æ ¸ä¸­ &lt;code&gt;sys_openat()&lt;/code&gt; ç³»ç»Ÿè°ƒç”¨å…¥å£çš„å…¨è·¯å¾„è¿›è¡Œå…¨é¢ã€ç²¾ç²¾ã€ä¸¥å¯†çš„åˆ†æã€‚é€‰ç”¨ AArch64 æ¶æ„æ˜¯å› ä¸ºå…¶åœ¨åµŒå…¥å¼ã€æ‰‹æœºã€æœåŠ¡å™¨ç­‰é¢†åŸŸåº”ç”¨å¾ˆå¹¿ï¼Œå®œäºå…¨é¢ç†è§£ Linux syscall æœºåˆ¶ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;ä¸€ä»-glibc-open-å‡½æ•°è°ƒç”¨å¼€å§‹&#34;&gt;ä¸€ã€ä» glibc &lt;code&gt;open()&lt;/code&gt; å‡½æ•°è°ƒç”¨å¼€å§‹&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; fd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;open&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/tmp/a.txt&amp;#34;&lt;/span&gt;, O_RDONLY);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;open()&lt;/code&gt; æ˜¯ POSIX APIï¼Œglibc ä¸­å®é™…æ˜¯ä¸€å±‚å±•å¼€ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#define open(...) SYSCALL_CANCEL(openat, AT_FDCWD, __VA_ARGS__)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å³ä½¿ç”¨ &lt;code&gt;openat()&lt;/code&gt; å®ç°ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;äºŒglibc-syscall-å±•å¼€å±‚å±‚ç»“æ„&#34;&gt;äºŒã€glibc syscall å±•å¼€å±‚å±‚ç»“æ„&lt;/h2&gt;&#xA;&lt;p&gt;ä»¥ 5 ä¸ªå‚æ•°ä¸ºä¾‹ï¼š&lt;/p&gt;&#xA;&lt;h3 id=&#34;1-è°ƒç”¨é“¾è¿›ç¨‹&#34;&gt;1. è°ƒç”¨é“¾è¿›ç¨‹&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;SYSCALL_CANCEL&lt;/span&gt;(openat, AT_FDCWD, file, flags, mode)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å±•å¼€å±‚å±‚å¦‚ä¸‹ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;SYSCALL_CANCEL&lt;/span&gt;(...)                &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;INLINE_SYSCALL_CALL&lt;/span&gt;(...)            &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__INLINE_SYSCALL_DISP&lt;/span&gt;(__INLINE_SYSCALL, ...)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__SYSCALL_CONCAT&lt;/span&gt;(__INLINE_SYSCALL, N)(...)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__INLINE_SYSCALL5&lt;/span&gt;(name, a1, a2, a3, a4, a5)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;â†’&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;INLINE_SYSCALL&lt;/span&gt;(name, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, a1, a2, a3, a4, a5)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-inline_syscall-å®ç°&#34;&gt;2. INLINE_SYSCALL å®ç°&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#define INLINE_SYSCALL(name, nr, args...) \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;({ \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;  long int sc_ret = INTERNAL_SYSCALL(name, nr, args); \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;  __glibc_unlikely(INTERNAL_SYSCALL_ERROR_P(sc_ret)) \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;    ? SYSCALL_ERROR_LABEL(INTERNAL_SYSCALL_ERRNO(sc_ret)) \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;    : sc_ret; \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;})&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;&#xA;&lt;h2 id=&#34;ä¸‰internal_syscall-åˆ°-svc-0-å…¥æ ¸&#34;&gt;ä¸‰ã€INTERNAL_SYSCALL åˆ° svc #0 å…¥æ ¸&lt;/h2&gt;&#xA;&lt;h3 id=&#34;1-å®é™…å®šä¹‰åˆ†éƒ¨&#34;&gt;1. å®é™…å®šä¹‰åˆ†éƒ¨&lt;/h3&gt;&#xA;&lt;p&gt;åœ¨ &lt;code&gt;sysdeps/unix/sysv/linux/aarch64/sysdep.h&lt;/code&gt; ä¸­ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>å†…æ ¸æ€å®šæ—¶å™¨ timer</title>
      <link>/posts/linux-%E5%AE%9A%E6%97%B6%E5%99%A8%E7%B2%BE%E5%87%86%E7%9A%84%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/</link>
      <pubDate>Thu, 15 May 2025 00:00:00 +0800</pubDate>
      <guid>/posts/linux-%E5%AE%9A%E6%97%B6%E5%99%A8%E7%B2%BE%E5%87%86%E7%9A%84%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/</guid>
      <description>&lt;p&gt;éœ€è¦é“¾æ¥ rt åº“&lt;/p&gt;&#xA;&lt;h2 id=&#34;linux-å®šæ—¶å™¨ç²¾å‡†çš„æ—¶é—´ç®¡ç†&#34;&gt;Linux å®šæ—¶å™¨ï¼šç²¾å‡†çš„æ—¶é—´ç®¡ç†&lt;/h2&gt;&#xA;&lt;p&gt;åœ¨å„ç§åº”ç”¨åœºæ™¯ä¸­ï¼Œç²¾ç¡®åœ°åœ¨ç‰¹å®šæ—¶é—´æ‰§è¡ŒæŸäº›ä»»åŠ¡è‡³å…³é‡è¦ã€‚æ— è®ºæ˜¯å‘¨æœŸæ€§åœ°æ”¶é›†ç³»ç»ŸçŠ¶æ€ã€åœ¨é¢„å®šæ—¶é—´å‘é€å‘Šè­¦ï¼Œè¿˜æ˜¯å®ç°å¤æ‚çš„ä»»åŠ¡è°ƒåº¦ï¼Œéƒ½éœ€è¦å¯é çš„å®šæ—¶å™¨æœºåˆ¶ã€‚Linux å†…æ ¸æä¾›äº†å¤šç§æ–¹å¼æ¥å¤„ç†æ—¶é—´ï¼Œå…¶ä¸­ POSIX å®šæ—¶å™¨æä¾›äº†ä¸€ç§å¼ºå¤§ä¸”çµæ´»çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;posix-å®šæ—¶å™¨ç®€ä»‹&#34;&gt;POSIX å®šæ—¶å™¨ç®€ä»‹&lt;/h3&gt;&#xA;&lt;p&gt;POSIX å®šæ—¶å™¨æ˜¯ç¬¦åˆ POSIX.1b æ ‡å‡†çš„å®æ—¶æ‰©å±•çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå…è®¸åº”ç”¨ç¨‹åºåˆ›å»ºå’Œç®¡ç†å¤šä¸ªé«˜ç²¾åº¦å®šæ—¶å™¨ã€‚ä¸ä¼ ç»Ÿçš„ &lt;code&gt;sleep()&lt;/code&gt; æˆ– &lt;code&gt;alarm()&lt;/code&gt; ç­‰å‡½æ•°ç›¸æ¯”ï¼ŒPOSIX å®šæ—¶å™¨æä¾›äº†æ›´ç²¾ç»†çš„æ§åˆ¶å’Œæ›´å¤šçš„åŠŸèƒ½ã€‚&lt;/p&gt;&#xA;&lt;p&gt;æ ¸å¿ƒæ¦‚å¿µåŒ…æ‹¬ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;å®šæ—¶å™¨ ID (&lt;code&gt;timer_t&lt;/code&gt;)&lt;/strong&gt;: æ¯ä¸ªæˆåŠŸåˆ›å»ºçš„å®šæ—¶å™¨éƒ½ä¼šè¿”å›ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œç±»å‹ä¸º &lt;code&gt;timer_t&lt;/code&gt;ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ª ID æ¥æ“ä½œç‰¹å®šçš„å®šæ—¶å™¨ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;å®šæ—¶å™¨äº‹ä»¶&lt;/strong&gt;: å½“å®šæ—¶å™¨åˆ°æœŸæ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªä¿¡å·æˆ–è€…è§¦å‘ä¸€ä¸ªçº¿ç¨‹å‡½æ•°ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;å®šæ—¶å™¨å±æ€§&lt;/strong&gt;: å¯ä»¥è®¾ç½®å®šæ—¶å™¨çš„è§¦å‘æ–¹å¼ï¼ˆå•æ¬¡æˆ–å‘¨æœŸæ€§ï¼‰ã€åˆå§‹å»¶è¿Ÿä»¥åŠæ—¶é—´é—´éš”ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;å…³é”®çš„ç³»ç»Ÿè°ƒç”¨&#34;&gt;å…³é”®çš„ç³»ç»Ÿè°ƒç”¨&lt;/h3&gt;&#xA;&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é‡ç‚¹ä»‹ç»ç”¨äºåˆ›å»ºã€è®¾ç½®å’Œç®¡ç† POSIX å®šæ—¶å™¨çš„å…³é”®ç³»ç»Ÿè°ƒç”¨ã€‚&lt;/p&gt;&#xA;&lt;h4 id=&#34;1-timer_create-åˆ›å»ºå®šæ—¶å™¨&#34;&gt;1. &lt;code&gt;timer_create()&lt;/code&gt;: åˆ›å»ºå®šæ—¶å™¨&lt;/h4&gt;&#xA;&lt;p&gt;&lt;code&gt;timer_create()&lt;/code&gt; ç³»ç»Ÿè°ƒç”¨ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„ POSIX å®šæ—¶å™¨ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;signal.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;time.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;errno.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;timer_t&lt;/span&gt; timerid;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; sigevent sev;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// è®¾ç½®å®šæ—¶å™¨åˆ°æœŸæ—¶çš„é€šçŸ¥æ–¹å¼ä¸ºä¿¡å·&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    sev.sigev_notify &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; SIGEV_SIGNAL;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    sev.sigev_signo &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; SIGRTMIN; &lt;span style=&#34;color:#75715e&#34;&gt;// ä½¿ç”¨ä¸€ä¸ªå®æ—¶ä¿¡å·&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    sev.sigev_value.sival_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;timerid; &lt;span style=&#34;color:#75715e&#34;&gt;// ä¼ é€’å®šæ—¶å™¨ ID&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;timer_create&lt;/span&gt;(CLOCK_REALTIME, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;sev, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;timerid) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;perror&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;timer_create&amp;#34;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;exit&lt;/span&gt;(EXIT_FAILURE);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;å®šæ—¶å™¨åˆ›å»ºæˆåŠŸï¼ŒID: %ld&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, (&lt;span style=&#34;color:#66d9ef&#34;&gt;long&lt;/span&gt;)timerid);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ... åç»­è®¾ç½®å’Œä½¿ç”¨å®šæ—¶å™¨çš„ä»£ç  ...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ä»£ç è§£é‡Š:&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linux date å‘½ä»¤ç”¨æ³•</title>
      <link>/posts/linux_date_cmd/</link>
      <pubDate>Thu, 09 Feb 2023 00:00:00 +0800</pubDate>
      <guid>/posts/linux_date_cmd/</guid>
      <description>&lt;h2 id=&#34;åŸºæœ¬ç”¨æ³•-date&#34;&gt;åŸºæœ¬ç”¨æ³• date&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ date&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2023å¹´ 02æœˆ 09æ—¥ æ˜ŸæœŸå›› 16:22:29 CST&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç²¾ç¡®åˆ°-ms&#34;&gt;ç²¾ç¡®åˆ° ms&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ date +&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;%d/%m/%Y %H:%M:%S:%3N&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;09/02/2023 16:23:20:252&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç²¾ç¡®åˆ°-ns&#34;&gt;ç²¾ç¡®åˆ° ns&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ date +&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;%d/%m/%Y %H:%M:%S:%N&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;09/02/2023 16:23:24:918036405&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>windows10 WSL setup</title>
      <link>/posts/windows10_wsl/</link>
      <pubDate>Thu, 09 Feb 2023 00:00:00 +0800</pubDate>
      <guid>/posts/windows10_wsl/</guid>
      <description>&lt;h2 id=&#34;wsl-å®‰è£…ç³»ç»Ÿ&#34;&gt;WSL å®‰è£…ç³»ç»Ÿ&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;æ¨è Ubuntu-22.04 Ubuntu 22.04 LTS&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wsl.exe --install --d Ubuntu-22.04&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;wsl-å¸è½½ç³»ç»Ÿ&#34;&gt;WSL å¸è½½ç³»ç»Ÿ&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wsl -l -v&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wsl --unregister Debian&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;wsl-kernel-å®¢åˆ¶åŒ–&#34;&gt;WSL kernel å®¢åˆ¶åŒ–&lt;/h2&gt;&#xA;&lt;p&gt;é¦–å…ˆè¿è¡Œ wsl é€šè¿‡å¦‚ä¸‹å‘½ä»¤ç¡®è®¤å½“å‰å†…æ ¸ç‰ˆæœ¬ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;uname -a&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Linux x 6.6.87.2-microsoft-standard-WSL2+ &lt;span style=&#34;color:#75715e&#34;&gt;#1 SMP PREEMPT_DYNAMIC Sun Jun 15 21:13:48 CST 2025 x86_64 x86_64 x86_64 GNU/Linux&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å…‹éš†æºä»£ç &#34;&gt;å…‹éš†æºä»£ç &lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git clone https://github.com/microsoft/WSL2-Linux-Kernel.git --depth&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; -b linux-msft-wsl-6.6.y&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd WSL2-Linux-Kernel&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git tag -l | grep &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;6.6.87&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git checkout -b my-6.6.87.2-kernel linux-msft-wsl-6.6.87.2&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;--depth=1&lt;/code&gt; clones only the latest commit to save time and space.&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;-b linux-msft-wsl-6.6.y&lt;/code&gt; specifies the branch to clone.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ç›®å‰ github &lt;a href=&#34;https://github.com/microsoft/WSL2-Linux-Kernel&#34;&gt;https://github.com/microsoft/WSL2-Linux-Kernel&lt;/a&gt; ä¸»è¦ç‰ˆæœ¬ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>é»‘èŠéº»å¹³å°äº¤å‰ç¼–è¯‘ openssl</title>
      <link>/posts/%E9%BB%91%E8%8A%9D%E9%BA%BB%E5%B9%B3%E5%8F%B0%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91-openssl/</link>
      <pubDate>Thu, 09 Feb 2023 00:00:00 +0800</pubDate>
      <guid>/posts/%E9%BB%91%E8%8A%9D%E9%BA%BB%E5%B9%B3%E5%8F%B0%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91-openssl/</guid>
      <description>&lt;h1 id=&#34;é»‘èŠéº»å¹³å°äº¤å‰ç¼–è¯‘-openssl&#34;&gt;é»‘èŠéº»å¹³å°äº¤å‰ç¼–è¯‘ openssl&lt;/h1&gt;&#xA;&lt;h2 id=&#34;å‰ç½®æ¡ä»¶&#34;&gt;å‰ç½®æ¡ä»¶&lt;/h2&gt;&#xA;&lt;p&gt;ç¼–è¯‘ç¯å¢ƒï¼šé»‘èŠéº» Linux23 Docker å¼€å‘ç¯å¢ƒï¼Œå·²ç»é»˜è®¤é…ç½®äº†äº¤å‰ç¼–è¯‘ç¯å¢ƒã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;æºç ä¸‹è½½&#34;&gt;æºç ä¸‹è½½&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget https://www.openssl.org/source/openssl-1.1.1k.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tar -xzvf openssl-1.1.1k.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd openssl-1.1.1k&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h2&gt;&#xA;&lt;p&gt;å‡†å¤‡ç›®æ ‡æ–‡ä»¶å®‰è£…ç›®å½•ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir _INSTALL&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŸ¥çœ‹å¸®åŠ©æ‰‹å†Œï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;root@028337952dd7:/home/misc/openssl-1.1.1k# ./Configure&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Usage: Configure &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;no-&amp;lt;cipher&amp;gt; ...&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;enable-&amp;lt;cipher&amp;gt; ...&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-Dxxx&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-lxxx&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-Lxxx&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-fxxx&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-Kxxx&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;no-hw-xxx|no-hw&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[[&lt;/span&gt;no-&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;threads&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[[&lt;/span&gt;no-&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;shared&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[[&lt;/span&gt;no-&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;zlib|zlib-dynamic&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;no-asm&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;no-egd&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;sctp&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;386&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;--prefix&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;DIR&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;--openssldir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;OPENSSLDIR&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;--with-xxx&lt;span style=&#34;color:#f92672&#34;&gt;[=&lt;/span&gt;vvv&lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;--config&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;FILE&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; os/compiler&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;:flags&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pick os/compiler from:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BS2000-OSD BSD-generic32 BSD-generic64 BSD-ia64 BSD-sparc64 BSD-sparcv8&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BSD-x86 BSD-x86-elf BSD-x86_64 Cygwin Cygwin-i386 Cygwin-i486 Cygwin-i586&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Cygwin-i686 Cygwin-x86 Cygwin-x86_64 DJGPP MPE/iX-gcc UEFI UWIN VC-CE VC-WIN32&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;VC-WIN32-ARM VC-WIN32-ONECORE VC-WIN64-ARM VC-WIN64A VC-WIN64A-ONECORE&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;VC-WIN64A-masm VC-WIN64I aix-cc aix-gcc aix64-cc aix64-gcc android-arm&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;android-arm64 android-armeabi android-mips android-mips64 android-x86&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;android-x86_64 android64 android64-aarch64 android64-mips64 android64-x86_64&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bsdi-elf-gcc cc darwin-i386-cc darwin-ppc-cc darwin64-arm64-cc darwin64-ppc-cc&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;darwin64-x86_64-cc gcc haiku-x86 haiku-x86_64 hpux-ia64-cc hpux-ia64-gcc&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hpux-parisc-cc hpux-parisc-gcc hpux-parisc1_1-cc hpux-parisc1_1-gcc&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hpux64-ia64-cc hpux64-ia64-gcc hpux64-parisc2-cc hpux64-parisc2-gcc hurd-x86&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ios-cross ios-xcrun ios64-cross ios64-xcrun iossimulator-xcrun iphoneos-cross&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;irix-mips3-cc irix-mips3-gcc irix64-mips4-cc irix64-mips4-gcc linux-aarch64&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;linux-alpha-gcc linux-aout linux-arm64ilp32 linux-armv4 linux-c64xplus&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;linux-elf linux-generic32 linux-generic64 linux-ia64 linux-mips32 linux-mips64&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;linux-ppc linux-ppc64 linux-ppc64le linux-sparcv8 linux-sparcv9 linux-x32&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;linux-x86 linux-x86-clang linux-x86_64 linux-x86_64-clang linux32-s390x&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;linux64-mips64 linux64-s390x linux64-sparcv9 mingw mingw64 nextstep&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nextstep3.3 sco5-cc sco5-gcc solaris-sparcv7-cc solaris-sparcv7-gcc&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;solaris-sparcv8-cc solaris-sparcv8-gcc solaris-sparcv9-cc solaris-sparcv9-gcc&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;solaris-x86-gcc solaris64-sparcv9-cc solaris64-sparcv9-gcc solaris64-x86_64-cc&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;solaris64-x86_64-gcc tru64-alpha-cc tru64-alpha-gcc uClinux-dist&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;uClinux-dist64 unixware-2.0 unixware-2.1 unixware-7 unixware-7-gcc vms-alpha&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vms-alpha-p32 vms-alpha-p64 vms-ia64 vms-ia64-p32 vms-ia64-p64 vos-gcc&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vxworks-mips vxworks-ppc405 vxworks-ppc60x vxworks-ppc750 vxworks-ppc750-debug&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vxworks-ppc860 vxworks-ppcgen vxworks-simlinux&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;NOTE: If in doubt, on Unix-ish systems use &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;./config&amp;#39;&lt;/span&gt;.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢æç¤ºå¦‚æœç¼–è¯‘ Unix-ish x86 å¹³å°ç›®æ ‡æ–‡ä»¶ï¼Œç›´æ¥ä½¿ç”¨ &lt;code&gt;./config&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>I2C command</title>
      <link>/posts/i2c_cmd/</link>
      <pubDate>Tue, 07 Feb 2023 00:00:00 +0800</pubDate>
      <guid>/posts/i2c_cmd/</guid>
      <description>&lt;h1 id=&#34;i2c-å¯„å­˜å™¨è¯»å†™å‘½ä»¤&#34;&gt;I2C å¯„å­˜å™¨è¯»å†™å‘½ä»¤&lt;/h1&gt;&#xA;&lt;h2 id=&#34;æ¢æµ‹è®¾å¤‡&#34;&gt;æ¢æµ‹è®¾å¤‡&lt;/h2&gt;&#xA;&lt;h3 id=&#34;i2cdetect&#34;&gt;i2cdetect&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;HELLO@WORLD:~# i2cdetect&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Error: No i2c-bus specified!&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Usage: i2cdetect &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-y&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-a&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-q|-r&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; I2CBUS &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;FIRST LAST&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       i2cdetect -F I2CBUS&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       i2cdetect -l&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  I2CBUS is an integer or an I2C bus name&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  If provided, FIRST and LAST limit the probing range.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# I2CBUS: 0 1 2 ...&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Notice: -r å‚æ•°å¾ˆé‡è¦ï¼Œä¸å¸¦ -r å‚æ•°æœ‰äº›è®¾å¤‡æ¢æµ‹ä¸åˆ°&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;i2cdetect -y -r &amp;lt;I2CBUS&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å¯¹äº8bitçš„reg-value-å¯ä»¥ä½¿ç”¨-i2cget--i2cset&#34;&gt;å¯¹äº8bitçš„reg, value å¯ä»¥ä½¿ç”¨ &lt;code&gt;i2cget / i2cset&lt;/code&gt;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;i2cget&#34;&gt;i2cget&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;HELLO@WORLD:~# i2cget&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Usage: i2cget &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-f&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-y&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; I2CBUS CHIP-ADDRESS &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;DATA-ADDRESS &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;MODE&lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  I2CBUS is an integer or an I2C bus name&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ADDRESS is an integer &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;0x03 - 0x77&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  MODE is one of:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    b &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;read byte data, default&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    w &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;read word data&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    c &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;write byte/read byte&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Append p &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; SMBus PEC&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# SLAVE_ADDRESS: ä½¿ç”¨i2cdetect å‡ºæ¥çš„ç»“æœ&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;i2cget -y -f &amp;lt;I2CBUS&amp;gt; &amp;lt;SLAVE_ADDRESS&amp;gt; &amp;lt;REG&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;i2cset&#34;&gt;i2cset&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;HELLO@WORLD:~# i2cset&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Usage: i2cset &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-f&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-y&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-m MASK&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-r&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; I2CBUS CHIP-ADDRESS DATA-ADDRESS &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;VALUE&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; ... &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;MODE&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  I2CBUS is an integer or an I2C bus name&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ADDRESS is an integer &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;0x03 - 0x77&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  MODE is one of:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    c &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;byte, no value&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    b &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;byte data, default&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    w &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;word data&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    i &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;I2C block data&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    s &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;SMBus block data&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Append p &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; SMBus PEC&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;i2cset -y -f &amp;lt;I2CBUS&amp;gt; &amp;lt;SLAVE_ADDRESS&amp;gt; &amp;lt;REG&amp;gt; &amp;lt;VALUE&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å¯¹äº16bitçš„reg-value-éœ€è¦ä½¿ç”¨-i2ctransfer&#34;&gt;å¯¹äº16bit+çš„reg, value éœ€è¦ä½¿ç”¨ &lt;code&gt;i2ctransfer&lt;/code&gt;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;i2ctransfer&#34;&gt;i2ctransfer&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;root@J3Pilot-B:~# i2ctransfer&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Usage: i2ctransfer &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-f&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-y&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-v&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-V&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; I2CBUS DESC &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;DATA&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;DESC &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;DATA&lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt;...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  I2CBUS is an integer or an I2C bus name&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  DESC describes the transfer in the form: &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;r|w&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;LENGTH&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;@address&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    1&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; read/write-flag 2&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; LENGTH &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;range 0-65535&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; 3&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; I2C address &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;use last one &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; omitted&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  DATA are LENGTH bytes &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; a write message. They can be shortened by a suffix:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;keep value constant &lt;span style=&#34;color:#66d9ef&#34;&gt;until&lt;/span&gt; LENGTH&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    + &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;increase value by &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;until&lt;/span&gt; LENGTH&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;decrease value by &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;until&lt;/span&gt; LENGTH&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    p &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;use pseudo random generator &lt;span style=&#34;color:#66d9ef&#34;&gt;until&lt;/span&gt; LENGTH with value as seed&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Example &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;bus 0, read &lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt; byte at offset 0x64 from EEPROM at 0x50&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# i2ctransfer 0 w1@0x50 0x64 r8&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Example &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;same EEPROM, at offset 0x42 write 0xff 0xfe ... 0xf0&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# i2ctransfer 0 w17@0x50 0x42 0xff-&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# W3 å†™ä¸‰ä¸ªå‚æ•° 16bit å¯„å­˜å™¨ ï¼ˆ2 Bytesï¼‰+ valueï¼ˆ1 Byteï¼‰&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# i2c bus 0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# slave address 0x36&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;i2ctransfer -y -f &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; w3@0x33 0x3B 0x9D 0x01&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# w2 ï¼ˆ16bitå¯„å­˜å™¨ï¼‰å†™ä¸¤ä¸ªå‚æ•° 0x4F 0x0C å¯„å­˜å™¨ï¼ˆ0x4F0Cï¼‰åˆ° 0x36 slave address&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# i2c bus æ€»çº¿ 0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# è¯»å– i2c æ€»çº¿ 0 çš„ slave address ä¸º 0x36 çš„è®¾å¤‡çš„å¯„å­˜å™¨ 0x4F0C, è¯»ä¸€ä¸ª char&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 0x36 æ˜¯ ovx3c çš„ slave address ï¼ˆ7bit i2c addressï¼‰&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;i2ctransfer -y -f &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; w2@0x36 0x4F 0x0C r1&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;dump-å¯„å­˜å™¨-00ff&#34;&gt;dump å¯„å­˜å™¨ 00~FF&lt;/h2&gt;&#xA;&lt;h3 id=&#34;i2cdump&#34;&gt;i2cdump&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;HELLO@WORLD:~# i2cdump &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Error: No i2c-bus specified!&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Usage: i2cdump &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-f&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-y&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-r first-last&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; I2CBUS ADDRESS &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;MODE &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;BANK &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;BANKREG&lt;span style=&#34;color:#f92672&#34;&gt;]]]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  I2CBUS is an integer or an I2C bus name&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ADDRESS is an integer &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;0x03 - 0x77&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  MODE is one of:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    b &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;byte, default&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    w &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;word&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    W &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;word on even register addresses&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    s &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;SMBus block&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    i &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;I2C block&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    c &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;consecutive byte&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Append p &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; SMBus PEC&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;i2cdump -f -y &amp;lt;I2CBUS&amp;gt; &amp;lt;SLAVE_ADDRESS&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>dmesg use CST timestamp</title>
      <link>/posts/dmesg_support_iso_timestamp/</link>
      <pubDate>Wed, 01 Feb 2023 00:00:00 +0800</pubDate>
      <guid>/posts/dmesg_support_iso_timestamp/</guid>
      <description>&lt;h2 id=&#34;ç—›ç‚¹è¯´æ˜&#34;&gt;ç—›ç‚¹è¯´æ˜&lt;/h2&gt;&#xA;&lt;p&gt;å½“å‰æ¿å­é›†æˆçš„æ˜¯ busybox dmesgï¼Œæ‰“å°å†…æ ¸æ—¥å¿—ä¸æ”¯æŒ CST æ—¶é—´æˆ³æ ¼å¼ï¼Œæ— æ³•ä¸åº”ç”¨å±‚æ—¥å¿—æ—¶é—´å¯¹é½&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;root@qualcomm:~# busybox dmesg --help&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BusyBox v1.29.2 &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;2021-07-28 06:25:45 UTC&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; multi-call binary.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Usage: dmesg &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-c&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-n LEVEL&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;-s SIZE&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Print or control the kernel ring buffer&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        -c              Clear ring buffer after printing&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        -n LEVEL        Set console logging level&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        -s SIZE         Buffer size&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        -r              Print raw message buffer&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ—¶é—´æˆ³æ ¼å¼&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;   74.247018&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; overflow FE mux_index &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;   74.269371&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; overflow FE mux_index &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;   74.294086&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; overflow FE mux_index &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äº¤å‰ç¼–è¯‘-dmesgutil-linux&#34;&gt;äº¤å‰ç¼–è¯‘ dmesg@util-linux&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git clone https://github.com/util-linux/util-linux.git&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt install autopoint autoconf automake libtool&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir build&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./tools/config-gen all&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# --prefix å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export PATH&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;$PATH:&amp;lt;path-to-cross-compile&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./configure --host&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;aarch64-linux-gnu --prefix&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/home/luyang/code/tt/util-linux/build&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make dmesg -j8&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ file dmesg&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dmesg: ELF 64-bit LSB executable, ARM aarch64, version &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;SYSV&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;, dynamically linked, interpreter /lib/ld-linux-aarch64.so.1, &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; GNU/Linux 3.14.0, BuildID&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;sha1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt;64098e1379e47231f4f3b1578fa842bc3d1d1251, with debug_info, not strippedfile dmesg &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¯‘æŠ¥é”™åŠè§£å†³æ–¹æ¡ˆ&lt;/p&gt;</description>
    </item>
    <item>
      <title>ğŸ“˜ Linux Firmware Node (fwnode) ç»Ÿä¸€è®¾å¤‡æ¨¡å‹</title>
      <link>/posts/linux-firmware-node-fwnode-%E7%BB%9F%E4%B8%80%E8%AE%BE%E5%A4%87%E6%A8%A1%E5%9E%8B/</link>
      <pubDate>Thu, 01 Jan 1970 00:00:00 +0800</pubDate>
      <guid>/posts/linux-firmware-node-fwnode-%E7%BB%9F%E4%B8%80%E8%AE%BE%E5%A4%87%E6%A8%A1%E5%9E%8B/</guid>
      <description>&lt;h1 id=&#34;linux-firmware-node-fwnode-ç»Ÿä¸€è®¾å¤‡æ¨¡å‹&#34;&gt;ğŸ“˜Linux Firmware Node (fwnode) ç»Ÿä¸€è®¾å¤‡æ¨¡å‹&lt;/h1&gt;&#xA;&lt;h2 id=&#34;1-å¼•è¨€&#34;&gt;1. å¼•è¨€&lt;/h2&gt;&#xA;&lt;p&gt;Linux fwnodeï¼ˆFirmware Nodeï¼‰ç»Ÿä¸€è®¾å¤‡æ¨¡å‹æ˜¯ Linux å†…æ ¸ä¸­ç”¨äºæŠ½è±¡ä¸åŒå›ºä»¶æè¿°æœºåˆ¶çš„é€šç”¨æ¡†æ¶ã€‚å®ƒä¸ºè®¾å¤‡æ ‘ï¼ˆDevice Treeï¼‰ã€ACPIï¼ˆAdvanced Configuration and Power Interfaceï¼‰ä»¥åŠå…¶ä»–å›ºä»¶æè¿°æ–¹å¼æä¾›äº†ç»Ÿä¸€çš„æ¥å£ï¼Œä½¿å¾—é©±åŠ¨ç¨‹åºå¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼è®¿é—®è®¾å¤‡å±æ€§ä¿¡æ¯ï¼Œè€Œæ— éœ€å…³å¿ƒåº•å±‚çš„å›ºä»¶å®ç°ç»†èŠ‚ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;2-å†å²èƒŒæ™¯ä¸å‘å±•å†ç¨‹&#34;&gt;2. å†å²èƒŒæ™¯ä¸å‘å±•å†ç¨‹&lt;/h2&gt;&#xA;&lt;h3 id=&#34;21-æ—©æœŸå›ºä»¶æè¿°é—®é¢˜&#34;&gt;2.1 æ—©æœŸå›ºä»¶æè¿°é—®é¢˜&lt;/h3&gt;&#xA;&lt;p&gt;åœ¨ fwnode æ¡†æ¶å‡ºç°ä¹‹å‰ï¼ŒLinux å†…æ ¸é¢ä¸´ä»¥ä¸‹æŒ‘æˆ˜ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;å¹³å°ä¾èµ–æ€§å¼º&lt;/strong&gt;ï¼šARM å¹³å°ä¸»è¦ä½¿ç”¨ Device Treeï¼Œx86 å¹³å°ä½¿ç”¨ ACPI&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;ä»£ç é‡å¤&lt;/strong&gt;ï¼šé©±åŠ¨ç¨‹åºéœ€è¦ä¸ºä¸åŒå›ºä»¶æ ¼å¼ç¼–å†™é‡å¤çš„è§£æä»£ç &lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;ç»´æŠ¤å›°éš¾&lt;/strong&gt;ï¼šè·¨å¹³å°é©±åŠ¨ç»´æŠ¤æˆæœ¬é«˜ï¼Œå…¼å®¹æ€§é—®é¢˜é¢‘å‘&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; device &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;dev &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;...;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; ret, irq;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/* æ£€æŸ¥è®¾å¤‡æ˜¯å¦å…³è”äº†è®¾å¤‡æ ‘èŠ‚ç‚¹ */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (dev&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;of_node) {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/* å¦‚æœå­˜åœ¨ï¼Œåˆ™ä½¿ç”¨ of_* ç³»åˆ— API ä»è®¾å¤‡æ ‘ä¸­è¯»å–å±æ€§ */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ret &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;of_property_read_u32&lt;/span&gt;(dev&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;of_node, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;interrupts&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;irq);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (ret) {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// é”™è¯¯å¤„ç†&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;ACPI_HANDLE&lt;/span&gt;(dev)) {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/* å¦åˆ™ï¼Œæ£€æŸ¥è®¾å¤‡æ˜¯å¦æœ‰å…³è”çš„ ACPI å¥æŸ„ */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/* ä½¿ç”¨ ACPI ç‰¹å®šçš„ API æ¥è§£æ _CRS (Current Resource Settings) */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/* è¿™é€šå¸¸æ¶‰åŠåˆ°ä¸€å¥—å¤æ‚ã€å†—é•¿çš„ ACPI èµ„æºè§£æé€»è¾‘ */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//... complex ACPI resource parsing logic...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;} &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;/* å¯èƒ½è¿˜æœ‰åŸºäºå¹³å°æ•°æ®çš„ä¼ ç»Ÿç¡¬ç¼–ç æ–¹å¼ */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;22-å‘å±•æ—¶é—´çº¿&#34;&gt;2.2 å‘å±•æ—¶é—´çº¿&lt;/h3&gt;&#xA;&lt;p&gt;Linux å†…æ ¸ç¤¾åŒºå¯¹ç»Ÿä¸€è®¾å¤‡æè¿°æ¥å£çš„æ¢ç´¢å§‹äº 2014 å¹´ï¼Œæ—¨åœ¨è§£å†³å¤šå›ºä»¶æ¥å£å¹¶å­˜å¸¦æ¥çš„æ¶æ„æ€§é—®é¢˜ã€‚fwnode æ¡†æ¶æ­£æ˜¯è¿™ä¸€æ¶æ„æ¼”è¿›çš„æ ¸å¿ƒæˆæœã€‚ä»¥ä¸‹æ˜¯è¯¥æ¡†æ¶çš„æ¼”è¿›æ—¶é—´çº¿å’Œå…³é”®èŠ‚ç‚¹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ğŸ“˜ Linux ç³»ç»Ÿæºç ç¼–è¯‘å’Œå®‰è£… CMake</title>
      <link>/posts/linux-%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%92%8C%E5%AE%89%E8%A3%85-cmake/</link>
      <pubDate>Thu, 01 Jan 1970 00:00:00 +0800</pubDate>
      <guid>/posts/linux-%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%92%8C%E5%AE%89%E8%A3%85-cmake/</guid>
      <description>&lt;h1 id=&#34;åœ¨-linux-ä¸Šç¼–è¯‘å’Œå®‰è£…-cmake&#34;&gt;åœ¨ Linux ä¸Šç¼–è¯‘å’Œå®‰è£… CMake&lt;/h1&gt;&#xA;&lt;p&gt;CMake æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„å¼€æºæ„å»ºç³»ç»Ÿç”Ÿæˆå™¨ï¼Œå¹¿æ³›ç”¨äºè½¯ä»¶å¼€å‘é¡¹ç›®ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨ Linux ç³»ç»Ÿä¸Šä»æºä»£ç ç¼–è¯‘å¹¶å®‰è£… CMakeï¼Œç¡®ä¿ä½ èƒ½å¤Ÿä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„åŠŸèƒ½ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;å‡†å¤‡å·¥ä½œ&#34;&gt;å‡†å¤‡å·¥ä½œ&lt;/h2&gt;&#xA;&lt;p&gt;åœ¨å¼€å§‹ä¹‹å‰ï¼Œç¡®ä¿ä½ çš„ç³»ç»Ÿå·²ç»å®‰è£…äº†å¿…è¦çš„å¼€å‘å·¥å…·å’Œåº“ã€‚å¯¹äºåŸºäº Debian çš„ç³»ç»Ÿï¼ˆå¦‚ Ubuntuï¼‰ï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…æ‰€éœ€çš„ä¾èµ–é¡¹ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt-get update&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt-get install build-essential libssl-dev&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;build-essentialï¼šåŒ…å«ç¼–è¯‘ C/C++ ç¨‹åºæ‰€éœ€çš„å·¥å…·ï¼Œå¦‚ gccã€g++ å’Œ makeã€‚&lt;/li&gt;&#xA;&lt;li&gt;libssl-devï¼šæä¾› OpenSSL çš„å¼€å‘åº“ï¼Œç”¨äºåŠ å¯†åŠŸèƒ½ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;å…‹éš†-cmake-æºä»£ç &#34;&gt;å…‹éš† CMake æºä»£ç &lt;/h2&gt;&#xA;&lt;p&gt;ä» CMake çš„å®˜æ–¹ GitHub ä»“åº“å…‹éš†æŒ‡å®šç‰ˆæœ¬çš„æºä»£ç ã€‚è¿™é‡Œä»¥ v4.0.3 ç‰ˆæœ¬ä¸ºä¾‹ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git clone --branch v4.0.3 --single-branch https://github.com/Kitware/CMake.git&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd CMake&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;--branch v4.0.3&lt;/code&gt;ï¼šæŒ‡å®šå…‹éš†çš„åˆ†æ”¯ä¸º v4.0.3ï¼Œè¿™æ˜¯ä½ æƒ³è¦å®‰è£…çš„ç‰ˆæœ¬ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;--single-branch&lt;/code&gt;ï¼šåªå…‹éš†æŒ‡å®šçš„åˆ†æ”¯ï¼Œå‡å°‘å…‹éš†çš„æ•°æ®é‡ï¼ŒèŠ‚çœæ—¶é—´å’Œç£ç›˜ç©ºé—´ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;é…ç½®å’Œç¼–è¯‘-cmake&#34;&gt;é…ç½®å’Œç¼–è¯‘ CMake&lt;/h2&gt;&#xA;&lt;p&gt;åœ¨ CMake çš„æºä»£ç ç›®å½•ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œé…ç½®å’Œç¼–è¯‘ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./bootstrap &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; make -j8&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;./bootstrap&lt;/code&gt;ï¼šè¿è¡Œ CMake çš„é…ç½®è„šæœ¬ï¼Œå®ƒä¼šæ£€æŸ¥ç³»ç»Ÿç¯å¢ƒå¹¶ç”Ÿæˆé€‚åˆå½“å‰ç³»ç»Ÿçš„æ„å»ºæ–‡ä»¶ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;make -j8&lt;/code&gt;ï¼šä½¿ç”¨ make å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œ-j8 å‚æ•°è¡¨ç¤ºåŒæ—¶ä½¿ç”¨ 8 ä¸ªçº¿ç¨‹è¿›è¡Œç¼–è¯‘ï¼Œå¯ä»¥åŠ å¿«ç¼–è¯‘é€Ÿåº¦ï¼ˆæ ¹æ®ä½ çš„ CPU æ ¸å¿ƒæ•°è°ƒæ•´ï¼‰ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;å¦‚æœç³»ç»Ÿä¸­æ²¡æœ‰å®‰è£… OpenSSLï¼Œæˆ–è€…ä½ ä¸æƒ³ä½¿ç”¨ OpenSSLï¼Œå¯ä»¥åœ¨é…ç½®æ—¶æ·»åŠ  &lt;code&gt;-DCMAKE_USE_OPENSSL=OFF&lt;/code&gt; å‚æ•°ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linux Test Disk with dd command</title>
      <link>/posts/linux_test_disk_i_o_with_dd/</link>
      <pubDate>Thu, 01 Jan 1970 00:00:00 +0800</pubDate>
      <guid>/posts/linux_test_disk_i_o_with_dd/</guid>
      <description>&lt;h1 id=&#34;å…³é”®å‘½ä»¤&#34;&gt;å…³é”®å‘½ä»¤&lt;/h1&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ¸…ç©ºæ–‡ä»¶ç³»ç»Ÿç¼“å­˜, æµ‹è¯•è¯»å†™å‘½ä»¤ä¹‹å‰éœ€è¦æ‰§è¡Œè¯¥å‘½ä»¤&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo sh -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sync &amp;amp;&amp;amp; echo 3 &amp;gt; /proc/sys/vm/drop_caches&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# dd å†™å…¥é€Ÿåº¦æµ‹è¯•&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dd &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/dev/zero of&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;./test_write count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;200&lt;/span&gt; bs&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1024k&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# dd è¯»å–é€Ÿåº¦æµ‹è¯•&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dd &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;./test_write of&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/dev/null bs&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1024k&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;æµ‹è¯•è„šæœ¬&#34;&gt;æµ‹è¯•è„šæœ¬&lt;/h1&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/bin/bash&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ£€æŸ¥æ˜¯å¦æä¾›äº†è¶³å¤Ÿçš„å‚æ•°&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; $# -lt &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Usage: &lt;/span&gt;$0&lt;span style=&#34;color:#e6db74&#34;&gt; test_count&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    exit &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# ANSIé¢œè‰²ç &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;green_color&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\e[32m&amp;#34;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# ç»¿è‰²&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;red_color&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\e[31m&amp;#34;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# çº¢è‰²&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;reset_color&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\e[0m&amp;#34;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# é‡ç½®é¢œè‰²&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;total_iterations&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;$1&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆå§‹åŒ–è®¡æ•°å™¨&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;write_success_count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;write_failure_count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;read_success_count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;read_failure_count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Total number of iterations: &lt;/span&gt;$total_iterations&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;((&lt;/span&gt;i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1; i&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;$total_iterations; i++&lt;span style=&#34;color:#f92672&#34;&gt;))&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#75715e&#34;&gt;# æ¸…ç©ºæ–‡ä»¶ç³»ç»Ÿç¼“å­˜&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;sudo sh -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sync &amp;amp;&amp;amp; echo 3 &amp;gt; /proc/sys/vm/drop_caches&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#75715e&#34;&gt;# æ‰§è¡Œddå†™å…¥æµ‹è¯•&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; dd &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/dev/zero of&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;./test_write count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;200&lt;/span&gt; bs&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1024k 2&amp;gt;&amp;amp;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; | grep -q &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;records in&amp;#34;&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;    write_speed&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;dd &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;./test_write of&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/dev/null bs&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1024k 2&amp;gt;&amp;amp;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; | awk &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/copied/ {print $(NF-1), $NF}&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;    echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;write speed: &lt;/span&gt;$write_speed&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;    &lt;span style=&#34;color:#f92672&#34;&gt;((&lt;/span&gt;write_success_count++&lt;span style=&#34;color:#f92672&#34;&gt;))&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;    echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;write failed&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;    &lt;span style=&#34;color:#f92672&#34;&gt;((&lt;/span&gt;write_failure_count++&lt;span style=&#34;color:#f92672&#34;&gt;))&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#75715e&#34;&gt;# å†æ¬¡æ¸…ç©ºæ–‡ä»¶ç³»ç»Ÿç¼“å­˜&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;sudo sh -c &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sync &amp;amp;&amp;amp; echo 3 &amp;gt; /proc/sys/vm/drop_caches&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#75715e&#34;&gt;# æ‰§è¡Œddè¯»å–æµ‹è¯•&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; dd &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;./test_write of&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/dev/null bs&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1024k 2&amp;gt;&amp;amp;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; | grep -q &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;records in&amp;#34;&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;    read_speed&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;dd &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;./test_write of&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/dev/null bs&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1024k 2&amp;gt;&amp;amp;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; | awk &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/copied/ {print $(NF-1), $NF}&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;    echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;read  speed: &lt;/span&gt;$read_speed&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;    &lt;span style=&#34;color:#f92672&#34;&gt;((&lt;/span&gt;read_success_count++&lt;span style=&#34;color:#f92672&#34;&gt;))&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;    echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;read failed&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;    &lt;span style=&#34;color:#f92672&#34;&gt;((&lt;/span&gt;read_failed_count++&lt;span style=&#34;color:#f92672&#34;&gt;))&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;----------------&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# è¾“å‡ºæ€»çš„æµ‹è¯•æ¬¡æ•°ã€æˆåŠŸæ¬¡æ•°å’Œå¤±è´¥æ¬¡æ•°&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Total number of tests: &lt;/span&gt;$total_iterations&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;green_color&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Number of write successful tests: &lt;/span&gt;$write_success_count&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;reset_color&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;green_color&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Number of read  successful tests: &lt;/span&gt;$read_success_count&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;reset_color&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;red_color&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Number of write failed tests: &lt;/span&gt;$write_failure_count&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;reset_color&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;red_color&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Number of read  failed tests: &lt;/span&gt;$read_failure_count&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;reset_color&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>samba</title>
      <link>/posts/samba/</link>
      <pubDate>Thu, 01 Jan 1970 00:00:00 +0800</pubDate>
      <guid>/posts/samba/</guid>
      <description>&lt;h2 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h2&gt;&#xA;&lt;p&gt;For ubuntu&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# smbclient ç”¨æ¥æµ‹è¯• samba æœåŠ¡&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt install samba smbclient&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;For arch&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo pacman -Sy samba smbclient&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;é…ç½®æ–‡ä»¶&#34;&gt;é…ç½®æ–‡ä»¶&lt;/h2&gt;&#xA;&lt;p&gt;&lt;code&gt;/etc/samba/smb.conf&lt;/code&gt; æœ«å°¾è¿½åŠ å¦‚ä¸‹å†…å®¹:&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;æ³¨æ„è¿™é‡Œçš„ &lt;code&gt;[share]&lt;/code&gt;&lt;/em&gt;&#xA;&lt;em&gt;windows æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨çš„æ—¶å€™è·¯å¾„ä¸º: &lt;code&gt;\\&amp;lt;ubuntu ip&amp;gt;\share&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[share]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;path = /home/username/Public&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;public = yes&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;writable = yes&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;valid users = username //æ˜ å°„æ—¶çš„ç™»é™†å&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;create mask = 0644&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;force create mode = 0644&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;directory mask = 0755&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;force directory mode = 0755&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;available = yes&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;è®¾ç½®å¯†ç &#34;&gt;è®¾ç½®å¯†ç &lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo touch /etc/samba/smbpasswd&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo smbpasswd -a username&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# then insert password&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;é‡å¯-samba-æœåŠ¡&#34;&gt;é‡å¯ samba æœåŠ¡&lt;/h2&gt;&#xA;&lt;p&gt;For ubuntu&lt;/p&gt;</description>
    </item>
    <item>
      <title>Virtualbox Opensuse æ— ç½‘ç»œå›¾æ ‡ æ— æ³•ä¸Šç½‘</title>
      <link>/posts/virtualboxopensuse%E6%97%A0%E7%BD%91%E7%BB%9C%E5%9B%BE%E6%A0%87%E6%97%A0%E6%B3%95%E4%B8%8A%E7%BD%91/</link>
      <pubDate>Thu, 01 Jan 1970 00:00:00 +0800</pubDate>
      <guid>/posts/virtualboxopensuse%E6%97%A0%E7%BD%91%E7%BB%9C%E5%9B%BE%E6%A0%87%E6%97%A0%E6%B3%95%E4%B8%8A%E7%BD%91/</guid>
      <description>&lt;p&gt;å‚è€ƒé“¾æ¥&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://forum.suse.org.cn/t/eth0/2049/4&#34;&gt;https://forum.suse.org.cn/t/eth0/2049/4&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://zh.opensuse.org/openSUSE:13.1%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98&#34;&gt;https://zh.opensuse.org/openSUSE:13.1%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Virtualbox è™šæ‹Ÿæœºè£…å®Œæ²¡æœ‰ç½‘ç»œï¼Ÿ&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;sudo systemctl start NetworkManager&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;å¯åŠ¨ NetworkManager æœåŠ¡ï¼Œä¼šè‡ªåŠ¨è¿è¡Œ DHCP åˆ†é… IP åœ°å€ç»™ä½ ã€‚ä¹‹åå¯ç”¨ï¼š&lt;code&gt;ping 127.0.0.1&lt;/code&gt; æˆ– &lt;code&gt;ping 192.168.1.1&lt;/code&gt;æµ‹è¯•ï¼ˆæŒ‰ Ctrl + C å¯åœæ­¢ pingï¼Œä¸ç„¶ä¼šä¸€ç›´è¿›è¡Œï¼‰ã€‚&lt;/p&gt;&#xA;&lt;p&gt;æˆ–ç”¨ï¼š&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;sudo systemctl status NetworkManager&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;æŸ¥çœ‹å…¶çŠ¶æ€ã€‚ä¸€èˆ¬æƒ…å†µä¸‹è¿™æ—¶ä½ çš„ç½‘ç»œå·²ç»æ¿€æ´»äº†ã€‚ä½†ä½ å¦‚æœè¿è¡Œæ¯”å¦‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;ping www.baidu.com&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;æˆ–è€…&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;nslookup www.baidu.com&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;æ˜¯æ²¡æœ‰ç»“æœçš„ã€‚å› ä¸ºæˆ‘ä»¬æ²¡æŒ‡å®šç³»ç»ŸæŸ¥è¯¢åŸŸåæ‰€ç”¨çš„ DNS æœåŠ¡å™¨ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;/etc/resolv.conf&lt;/code&gt;æ–‡ä»¶çš„æœ€ååŠ å…¥ï¼š&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;nameserver 8.8.8.8&#xA;nameserver 8.8.4.4&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¹‹åå°±èƒ½ &lt;code&gt;ping&lt;/code&gt; æˆ–è€… &lt;code&gt;nslookup&lt;/code&gt; ç™¾åº¦äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>vscode é˜…è¯» Linux å†…æ ¸ä»£ç é…ç½®</title>
      <link>/posts/vscode-%E9%98%85%E8%AF%BB-linux-%E5%86%85%E6%A0%B8%E4%BB%A3%E7%A0%81%E9%85%8D%E7%BD%AE/</link>
      <pubDate>Thu, 01 Jan 1970 00:00:00 +0800</pubDate>
      <guid>/posts/vscode-%E9%98%85%E8%AF%BB-linux-%E5%86%85%E6%A0%B8%E4%BB%A3%E7%A0%81%E9%85%8D%E7%BD%AE/</guid>
      <description>&lt;p&gt;å†…æ ¸æºç æ ¹ç›®å½•ä¸‹åˆ›å»º .vscode ç›®å½•&lt;/p&gt;&#xA;&lt;p&gt;.vscode ç›®å½•ä¸‹åˆ›å»º c_cpp_properties.json æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;configurations&amp;#34;&lt;/span&gt;: [&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Linux&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;includePath&amp;#34;&lt;/span&gt;: [&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;${workspaceFolder}/**&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ],&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;defines&amp;#34;&lt;/span&gt;: [&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;__KERNEL__&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ],&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;compilerPath&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/opt/bstos/2.3.0.4/sysroots/x86_64-bstsdk-linux/usr/bin/aarch64-bst-linux/aarch64-bst-linux-gcc&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;](&amp;lt;https:&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//www.notion.so/Docker-22f588b5e85d492895231b70d4b5c4a0?pvs=21&amp;gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;cStandard&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;c11&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;cppStandard&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;c++17&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;intelliSenseMode&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gcc-x64&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ],&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;compilerPath éœ€è¦æŒ‡å®šç¼–è¯‘å™¨binæ–‡ä»¶çš„è·¯å¾„ï¼Œè€Œä¸æ˜¯ç¼–è¯‘å™¨æ‰€åœ¨ç›®å½•&lt;/li&gt;&#xA;&lt;li&gt;defines æ·»åŠ  â€œ&lt;strong&gt;KERNEL&lt;/strong&gt;â€ ä¸ºäº†è§£å†³ uapi ç›¸å…³å¤´æ–‡ä»¶ä¸­ä¼šæ ¹æ®è¯¥å®æ§åŒºåˆ†åº”ç”¨å±‚å’Œå†…æ ¸å±‚ï¼Œå¦‚æœä¸å®šä¹‰å¯èƒ½å‡ºç°å¤´æ–‡ä»¶ä¸å­˜åœ¨é—®é¢˜&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;ä¾‹å¦‚ &lt;code&gt;include/uapi/linux/videodev2.h&lt;/code&gt; ä¸­&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;#ifndef&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;__KERNEL__&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;lt;sys/time.h&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;#endif&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>ä¸€æ–‡ææ‡‚åº”ç”¨å¼€å‘æ‰€éœ€ Linux ç³»ç»Ÿæ—¶é—´çš„ç›¸å…³çŸ¥è¯†ç‚¹</title>
      <link>/posts/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E6%89%80%E9%9C%80linux%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4%E7%9A%84%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9/</link>
      <pubDate>Thu, 01 Jan 1970 00:00:00 +0800</pubDate>
      <guid>/posts/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E6%89%80%E9%9C%80linux%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4%E7%9A%84%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9/</guid>
      <description>&lt;h2 id=&#34;ç§’çº§ç²¾åº¦&#34;&gt;ç§’çº§ç²¾åº¦&lt;/h2&gt;&#xA;&lt;p&gt;&lt;code&gt;time_t&lt;/code&gt; ä¿å­˜è‡ª UTC 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00 ä»¥æ¥çš„ç§’æ•°ï¼ˆä¸åŒ…æ‹¬é—°ç§’ï¼‰ï¼Œå¯¹åº”äº&lt;a href=&#34;https://en.wikipedia.org/wiki/Unix_time&#34;&gt;POSIX time&lt;/a&gt;&#xA;Unix å’Œ POSIX å…¼å®¹ç³»ç»Ÿå°† &lt;code&gt;time_t&lt;/code&gt; ç±»å‹ä½œä¸ºå¸¦ç¬¦å·æ•´æ•°ï¼ˆé€šå¸¸ä¸º 32 æˆ– 64 ä½å®½ï¼‰æ¥å®ç°ï¼Œå®ƒè¡¨ç¤ºè‡ª Unix æ—¶é—´å¼€å§‹ä»¥æ¥çš„ç§’æ•°&lt;/p&gt;&#xA;&lt;p&gt;time_t å’Œ struct tm ä¹‹é—´çš„è½¬æ¢æ¥å£&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; tm &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;localtime&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;time_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;timep);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; tm &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;localtime_r&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;time_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;timep, &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; tm &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;result);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;time_t&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mktime&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; tm &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;tm);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; tm {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tm_sec;    &lt;span style=&#34;color:#75715e&#34;&gt;/* Seconds (0-60) */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tm_min;    &lt;span style=&#34;color:#75715e&#34;&gt;/* Minutes (0-59) */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tm_hour;   &lt;span style=&#34;color:#75715e&#34;&gt;/* Hours (0-23) */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tm_mday;   &lt;span style=&#34;color:#75715e&#34;&gt;/* Day of the month (1-31) */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tm_mon;    &lt;span style=&#34;color:#75715e&#34;&gt;/* Month (0-11) */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tm_year;   &lt;span style=&#34;color:#75715e&#34;&gt;/* Year - 1900 */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tm_wday;   &lt;span style=&#34;color:#75715e&#34;&gt;/* Day of the week (0-6, Sunday = 0) */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tm_yday;   &lt;span style=&#34;color:#75715e&#34;&gt;/* Day in the year (0-365, 1 Jan = 0) */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tm_isdst;  &lt;span style=&#34;color:#75715e&#34;&gt;/* Daylight saving time */&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è·å–å½“å‰æ—¶é—´çš„ time_t&lt;/p&gt;</description>
    </item>
    <item>
      <title>å¦‚ä½•åœ¨ Linux ç”¨æˆ·ç©ºé—´ä¸­è¿›è¡Œç±»ä¼¼ GPIO ä¸­æ–­çš„å¤„ç†</title>
      <link>/posts/how_to_handle_gpio_interrupt_like_handling_in_linux_userspace/</link>
      <pubDate>Thu, 01 Jan 1970 00:00:00 +0800</pubDate>
      <guid>/posts/how_to_handle_gpio_interrupt_like_handling_in_linux_userspace/</guid>
      <description>&lt;h1 id=&#34;how-to-handle-gpio-interrupt-like-handling-in-linux-userspace&#34;&gt;How to handle GPIO interrupt-like handling in Linux userspace&lt;/h1&gt;&#xA;&lt;h2 id=&#34;æ–‡ä»¶èŠ‚ç‚¹&#34;&gt;æ–‡ä»¶èŠ‚ç‚¹&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/sys/class/gpio/gpio666# ls&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;active_low  device  direction  edge  subsystem  uevent  value&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åªç”¨å¯¹åº” GPIO æœ‰ irq åŠŸèƒ½æ—¶æ‰ä¼šæœ‰ edge æ–‡ä»¶ã€‚&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;/sys/class/gpio/exportï¼šæ˜¯ä¸€ä¸ªåªå†™æ–‡ä»¶ï¼Œç”¨äºå¯¼å‡ºéœ€è¦ä½¿ç”¨çš„ GPIO å¼•è„š&lt;/li&gt;&#xA;&lt;li&gt;/sys/class/gpio/gpiox/: æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨å¼•è„šå¯¼å‡ºåè‡ªåŠ¨åœ¨ / sys/class/gpio / ç›®å½•ä¸‹ç”Ÿæˆçš„&lt;/li&gt;&#xA;&lt;li&gt;/sys/class/gpio/gpiox/active_lowï¼šæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œç”¨æ¥æ§åˆ¶ç”µå¹³çš„ææ€§ï¼ˆå†™ 1 æ˜¯é«˜ç”µå¹³è¿˜æ˜¯å†™ 0 æ˜¯é«˜ç”µå¹³ï¼‰ï¼Œé»˜è®¤å†™ 1 æ˜¯é«˜ç”µå¹³ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸ç”¨å»ç®¡å®ƒ&lt;/li&gt;&#xA;&lt;li&gt;/sys/class/gpio/gpiox/directionï¼šæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œç”¨æ¥æ§åˆ¶ GPIO æ˜¯è¾“å…¥è¿˜æ˜¯è¾“å‡ºï¼Œå¾€directionå†™ out å°±æ˜¯è¾“å‡ºå¼•è„šï¼Œå¾€directionå†™ in å°±æ˜¯è¾“å…¥å¼•è„š&lt;/li&gt;&#xA;&lt;li&gt;/sys/class/gpio/gpiox/edgeï¼šæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨è¾“å…¥æ¨¡å¼ä¸‹ï¼Œå†™ edge æ–‡ä»¶ï¼Œé…ç½® gpio ä¸ºå¤–éƒ¨ä¸­æ–­å¼•è„š&lt;/li&gt;&#xA;&lt;li&gt;éä¸­æ–­å¼•è„šï¼š none&lt;/li&gt;&#xA;&lt;li&gt;ä¸Šå‡æ²¿è§¦å‘ï¼š rising&lt;/li&gt;&#xA;&lt;li&gt;ä¸‹é™æ²¿è§¦å‘ï¼š falling&lt;/li&gt;&#xA;&lt;li&gt;è¾¹æ²¿è§¦å‘ï¼š both&lt;/li&gt;&#xA;&lt;li&gt;/sys/class/gpio/gpiox/value: æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨è¾“å‡ºæ¨¡å¼ä¸‹ï¼Œå†™è¯¥æ–‡ä»¶è¡¨ç¤º gpio è¾“å‡ºï¼›åœ¨è¾“å…¥æ¨¡å¼ä¸‹è¯»è¯¥æ–‡ä»¶è¡¨ç¤ºè¾“å…¥&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.kernel.org/doc/Documentation/gpio/sysfs.txt&#34;&gt;sysfs.txt&lt;/a&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;#34;value&amp;#34; ... reads as either 0 (low) or 1 (high). If the GPIO&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  is configured as an output, this value may be written;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  any nonzero value is treated as high.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  If the pin can be configured as interrupt-generating interrupt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  and if it has been configured to generate interrupts (see the&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  description of &amp;#34;edge&amp;#34;), you can poll(2) on that file and&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  poll(2) will return whenever the interrupt was triggered. If&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  you use poll(2), set the events POLLPRI and POLLERR. If you&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  use select(2), set the file descriptor in exceptfds. After&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  poll(2) returns, either lseek(2) to the beginning of the sysfs&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  file and read the new value or close the file and re-open it&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  to read the value.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;#34;edge&amp;#34; ... reads as either &amp;#34;none&amp;#34;, &amp;#34;rising&amp;#34;, &amp;#34;falling&amp;#34;, or&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;#34;both&amp;#34;. Write these strings to select the signal edge(s)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  that will make poll(2) on the &amp;#34;value&amp;#34; file return.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  This file exists only if the pin can be configured as an&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  interrupt generating input pin.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;demo&#34;&gt;demo&lt;/h2&gt;&#xA;&lt;p&gt;ä¸€å¨å±æ ·ä»£ç &lt;/p&gt;</description>
    </item>
  </channel>
</rss>
