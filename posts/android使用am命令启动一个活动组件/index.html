<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Android 使用 am 命令启动一个活动组件 | LuyangのBlog</title>
<link rel="icon" href="favicon.svg" sizes="any" type="image/svg+xml" /><meta property="og:url" content="https://luyoungcn.github.io/posts/android%E4%BD%BF%E7%94%A8am%E5%91%BD%E4%BB%A4%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E6%B4%BB%E5%8A%A8%E7%BB%84%E4%BB%B6/">
  <meta property="og:site_name" content="LuyangのBlog">
  <meta property="og:title" content="Android 使用 am 命令启动一个活动组件">
  <meta property="og:description" content="am 命令说明 am start -n 命令是 Android 调试桥（ADB）工具的一部分，用于在 Android 设备上启动一个活动。以下是该命令及其组成部分的详细解释：
am: 代表 Activity Manager（活动管理器）。它是一个命令行工具，可以用于在 Android 设备上执行各种与活动、服务和广播相关的操作。 start: 这个子命令用于启动一个活动。活动表示一个带有用户界面的单个屏幕，启动活动意味着打开一个特定的应用程序界面。 -n: 该选项指定你想要启动的活动的组件名称。组件名称由两部分组成： 应用程序的 包名（例如 com.android.gallery3d）。 你想要启动的活动的 完整类名（例如 .app.GalleryActivity）。 组件名称的格式为 package_name/.ActivityName。
使用示例 启动图库应用的主活动：
adb shell am start -n com.android.gallery3d/.app.GalleryActivity adb shell: 在设备上打开一个命令行界面。 am start -n: 启动指定的活动。 com.android.gallery3d/.app.GalleryActivity: 指定要启动的包名和活动。 其他选项 --display &lt;display_id&gt;: 如果设备有多个显示屏，可以指定使用哪个显示屏。 -d &lt;data_uri&gt;: 指定一个数据 URI（例如文件路径或网页链接），活动在启动时可以使用这个 URI。 -a &lt;action&gt;: 指定要执行的操作，例如 android.intent.action.VIEW。 实际示例 如果你想在显示屏 3 上打开图库应用中的特定图片：
adb shell am start -n com.android.gallery3d/.app.GalleryActivity --display 3 这个命令将在显示屏 3 上打开图库应用的 GalleryActivity。">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="1970-01-01T00:00:00+08:00">
    <meta property="article:modified_time" content="1970-01-01T00:00:00+08:00">
    <meta property="article:tag" content="Android">
    <meta property="article:tag" content="Adb">
    <meta property="article:tag" content="Am">
    <meta property="article:tag" content="Pm">
    <meta property="article:tag" content="Activity">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Android 使用 am 命令启动一个活动组件">
  <meta name="twitter:description" content="am 命令说明 am start -n 命令是 Android 调试桥（ADB）工具的一部分，用于在 Android 设备上启动一个活动。以下是该命令及其组成部分的详细解释：
am: 代表 Activity Manager（活动管理器）。它是一个命令行工具，可以用于在 Android 设备上执行各种与活动、服务和广播相关的操作。 start: 这个子命令用于启动一个活动。活动表示一个带有用户界面的单个屏幕，启动活动意味着打开一个特定的应用程序界面。 -n: 该选项指定你想要启动的活动的组件名称。组件名称由两部分组成： 应用程序的 包名（例如 com.android.gallery3d）。 你想要启动的活动的 完整类名（例如 .app.GalleryActivity）。 组件名称的格式为 package_name/.ActivityName。
使用示例 启动图库应用的主活动：
adb shell am start -n com.android.gallery3d/.app.GalleryActivity adb shell: 在设备上打开一个命令行界面。 am start -n: 启动指定的活动。 com.android.gallery3d/.app.GalleryActivity: 指定要启动的包名和活动。 其他选项 --display &lt;display_id&gt;: 如果设备有多个显示屏，可以指定使用哪个显示屏。 -d &lt;data_uri&gt;: 指定一个数据 URI（例如文件路径或网页链接），活动在启动时可以使用这个 URI。 -a &lt;action&gt;: 指定要执行的操作，例如 android.intent.action.VIEW。 实际示例 如果你想在显示屏 3 上打开图库应用中的特定图片：
adb shell am start -n com.android.gallery3d/.app.GalleryActivity --display 3 这个命令将在显示屏 3 上打开图库应用的 GalleryActivity。">

      <link rel="stylesheet" href="/css/root.min.0e732b812b9751962e01a7c4798a1211cd5f8ac8abec7f99793fe306989e459f.css" integrity="sha256-DnMrgSuXUZYuAafEeYoSEc1fisir7H&#43;ZeT/jBpieRZ8=" crossorigin="anonymous">
      <link rel="stylesheet" href="/css/bundle.min.e139b0e3b3aff8f0e8e0272554b671a06c857a42278b36c539d96c69ddee2ca2.css" integrity="sha256-4Tmw47Ov&#43;PDo4CclVLZxoGyFekInizbFOdlsad3uLKI=" crossorigin="anonymous">

      <script src="/js/bundle.995e4ec99401021e081ec256bee66154ef7f4e5136809432513b2e6d014b4b1d.js" integrity="sha256-mV5OyZQBAh4IHsJWvuZhVO9/TlE2gJQyUTsubQFLSx0=" crossorigin="anonymous"></script><script defer src="/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js" integrity="sha256-ZFlLEl97eL30&#43;oMWlVkiu&#43;uxzWuu8/FmVL/KIDCfGPg="></script>
<script defer src="/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js" integrity="sha256-HZgPhN8R8&#43;t8jF8X9UHUmgYRYI3xed10&#43;n8GIl61as4="></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

</head>
<body class="notransition">
  <div id="container">
    <header id="main-header"><div role="navigation" aria-label="Main">
  <div class="nav-left">
    <a href="https://luyoungcn.github.io/" style="color: inherit;">LuyangのBlog</a>
  </div>
  <div class="nav-right">
    <div style="position:absolute;width:0px;height:0px;">
      <div id="nav-dropdown-menu" class="hidden" href="#">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
</div>
    </div>
    <a id="nav-dropdown-button" href="#"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
    <div id="nav-menu">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
</div>
    <a id="theme-switcher" href="#">
<svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

<svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
  </div>
</div>
</header>
    <div class="flex grow">
      <div id="main-pane">
        <main id="main-content"><div class="single-header">
<ol class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="https://luyoungcn.github.io/">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content='1' />
    </li>
    <span>&nbsp»&nbsp</span>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="https://luyoungcn.github.io/posts/">
        <span itemprop="name">Posts</span>
      </a>
      <meta itemprop="position" content='2' />
    </li>
    <span>&nbsp»&nbsp</span>
</ol>
<h1>Android 使用 am 命令启动一个活动组件</h1><time class="dim" datetime="1970-01-01T00:00:00&#43;08:00">January 1, 1970</time><div class="term-container"><div class="tag">
        <a href="https://luyoungcn.github.io/tags/android/">#android</a>
      </div><div class="tag">
        <a href="https://luyoungcn.github.io/tags/adb/">#adb</a>
      </div><div class="tag">
        <a href="https://luyoungcn.github.io/tags/am/">#am</a>
      </div><div class="tag">
        <a href="https://luyoungcn.github.io/tags/pm/">#pm</a>
      </div><div class="tag">
        <a href="https://luyoungcn.github.io/tags/activity/">#activity</a>
      </div></ol></div>
  <section class="page-section"><h2 id="am-命令说明">am 命令说明</h2>
<p><code>am start -n</code> 命令是 Android 调试桥（ADB）工具的一部分，用于在 Android 设备上启动一个活动。以下是该命令及其组成部分的详细解释：</p>
<ul>
<li><strong><code>am</code></strong>: 代表 <strong>Activity Manager（活动管理器）</strong>。它是一个命令行工具，可以用于在 Android 设备上执行各种与活动、服务和广播相关的操作。</li>
<li><strong><code>start</code></strong>: 这个子命令用于启动一个活动。活动表示一个带有用户界面的单个屏幕，启动活动意味着打开一个特定的应用程序界面。</li>
<li><strong><code>-n</code></strong>: 该选项指定你想要启动的活动的组件名称。组件名称由两部分组成：
<ul>
<li>应用程序的 <strong>包名</strong>（例如 <code>com.android.gallery3d</code>）。</li>
<li>你想要启动的活动的 <strong>完整类名</strong>（例如 <code>.app.GalleryActivity</code>）。</li>
</ul>
</li>
</ul>
<p>组件名称的格式为 <code>package_name/.ActivityName</code>。</p>
<h3 id="使用示例">使用示例</h3>
<p>启动图库应用的主活动：</p>
<pre tabindex="0"><code>adb shell am start -n com.android.gallery3d/.app.GalleryActivity
</code></pre><ul>
<li><strong><code>adb shell</code></strong>: 在设备上打开一个命令行界面。</li>
<li><strong><code>am start -n</code></strong>: 启动指定的活动。</li>
<li><strong><code>com.android.gallery3d/.app.GalleryActivity</code></strong>: 指定要启动的包名和活动。</li>
</ul>
<h3 id="其他选项">其他选项</h3>
<ul>
<li><strong><code>--display &lt;display_id&gt;</code></strong>: 如果设备有多个显示屏，可以指定使用哪个显示屏。</li>
<li><strong><code>-d &lt;data_uri&gt;</code></strong>: 指定一个数据 URI（例如文件路径或网页链接），活动在启动时可以使用这个 URI。</li>
<li><strong><code>-a &lt;action&gt;</code></strong>: 指定要执行的操作，例如 <code>android.intent.action.VIEW</code>。</li>
</ul>
<h3 id="实际示例">实际示例</h3>
<p>如果你想在显示屏 3 上打开图库应用中的特定图片：</p>
<pre tabindex="0"><code>adb shell am start -n com.android.gallery3d/.app.GalleryActivity --display 3
</code></pre><p>这个命令将在显示屏 3 上打开图库应用的 <code>GalleryActivity</code>。</p>
<h2 id="如何获取-package_name-以及-activity_name">如何获取 package_name 以及 activity_name</h2>
<p><code>pm list packages</code> 命令获取当前系统中的所有 package。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>130|console:/ <span style="color:#75715e"># pm list packages</span>
</span></span><span style="display:flex;"><span>......
</span></span><span style="display:flex;"><span>package:com.android.internal.systemui.navbar.gestural
</span></span><span style="display:flex;"><span>package:com.android.gallery3d
</span></span><span style="display:flex;"><span>package:com.android.providers.userdictionary
</span></span><span style="display:flex;"><span>......
</span></span></code></pre></div><p>以 gallery3d <code>com.android.gallery3d</code> 为例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>console:/ <span style="color:#75715e"># dumpsys package com.android.gallery3d | grep -A 1 &#39;MAIN&#39;</span>
</span></span><span style="display:flex;"><span>      android.intent.action.MAIN:<span style="color:#f92672">[</span> 1080.400705<span style="color:#f92672">]</span> servicemanager: Since <span style="color:#e6db74">&#39;artd&#39;</span> could not be found, trying to start it as a lazy AIDL service. <span style="color:#f92672">(</span><span style="color:#66d9ef">if</span> it<span style="color:#e6db74">&#39;s not configured to be a lazy service, it may be stuck starting or still starting).
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        c99ebe com.android.gallery3d/.app.GalleryActivity filter 92aab1f
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          Action: &#34;android.intent.action.MAIN&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          Category: &#34;android.intent.category.DEFAULT&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">--
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          Action: &#34;android.intent.action.MAIN&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        be96ced com.andro[ 1080.418995] init: starting service &#39;</span>artd<span style="color:#e6db74">&#39;...
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">id.gallery3d/.app.Gallery filter de1c722
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          Action: &#34;android.intent.action.MAIN&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          Category: &#34;android.intent.category.DEFAULT&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">--
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          Action: &#34;android.intent.action.MAIN&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          Category: &#34;android.intent.category.DEFAULT&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">--
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[ 1080.446599] init: ... started service &#39;</span>artd<span style="color:#e6db74">&#39; has pid 2312
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[ 1080.458298] BpBinder: onLastStrongRef automatically unlinking death recipients: 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    privateFlags=[ PRIVATE_FLAG_ACTIVITIES_RESIZE_MODE_RESIZEABLE_VIA_SDK_VERSION PRIVATE_FLAG_REQUEST_LEGACY_EXTERNAL_STORAGE HAS_DOMAIN_URLS PRODUCT PRIVATE_FLAG_ALLOW_NATIVE_HEAP_POINTER_TAGGING ]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    forceQueryable=false
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">--
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    privatePkgFlags=[ PRI[ 1080.472553] init: Control message: Processed ctl.interface_start for &#39;</span>aidl/artd<span style="color:#960050;background-color:#1e0010">&#39;</span> from pid: <span style="color:#ae81ff">248</span> <span style="color:#f92672">(</span>/system/bin/servicemanager<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>VATE_FLAG_ACTIVITIES_RESIZE_MODE_RESIZEABLE_VIA_SDK_VERSION PRIVATE_FLAG_REQUEST_LEGACY_EXTERNAL_STORAGE HAS_DOMAIN_URLS PRODUCT PRIVATE_FLAG_ALLOW_NATIVE_HEAP_POINTER_TAGGING <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>    apexModuleName<span style="color:#f92672">=</span>null
</span></span></code></pre></div><p>关键信息：<code>c99ebe com.android.gallery3d/.app.GalleryActivity filter 92aab1f</code></p>
<p>对应的 package and activity name 组合：<code>com.android.gallery3d/.app.GalleryActivity</code></p>
<p>套用到 am 命令中就是：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>am start -n com.android.gallery3d/.app.GalleryActivity --display <span style="color:#ae81ff">3</span>
</span></span></code></pre></div></section></main>
        <footer id="main-footer"><div class="footer">
  <a href="#">Scroll to Top</a>
  <div class="footer-copyright">
    <div class="dim">© 2025 </div>
    <div>Made with ❤️ and powered by <a href="https://github.com/math-queiroz/rusty-typewriter" target="_blank">Rusty Typewriter</a> theme for <a href="https://gohugo.io/" target="_blank">Hugo</a></div>
  </div>
</div>
</footer>
      </div><aside id="side-pane" class="side-sticky"><div class="side-details">
    <span>240 words</span>
    <span>3 - 4 minutes read</span><div class="side-details-taxonomy">
        <small>categories: 
          <span class="details-taxonomy"><a href="https://luyoungcn.github.io/categories/android">Android</a></span></small>
      </div></div><h3>Table Of Contents</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#am-命令说明">am 命令说明</a>
      <ul>
        <li><a href="#使用示例">使用示例</a></li>
        <li><a href="#其他选项">其他选项</a></li>
        <li><a href="#实际示例">实际示例</a></li>
      </ul>
    </li>
    <li><a href="#如何获取-package_name-以及-activity_name">如何获取 package_name 以及 activity_name</a></li>
  </ul>
</nav><h3>Related</h3>
    <ul><li><a href="/posts/wifiadb/">Wifi Adb</a></li><li><a href="/posts/androidjava-/">Android Java 1.7 环境配置</a></li><li><a href="/posts/androidstudioenv/">Android Studio Env</a></li><li><a href="/posts/android10%E7%BC%96%E8%AF%91%E5%BC%80%E5%90%AFccache/">Android10编译开启ccache</a></li><li><a href="/posts/repo/">repo</a></li></ul></aside></div>
  </div>
</body>
</html>
