<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>📘Linux 初始化系统技术文档：从 SysVinit 到 systemd 的演进 | LuyangのBlog</title>
<link rel="icon" href="favicon.svg" sizes="any" type="image/svg+xml" /><meta property="og:url" content="/posts/linux-%E5%88%9D%E5%A7%8B%E5%8C%96%E7%B3%BB%E7%BB%9F%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E4%BB%8E-sysvinit-%E5%88%B0-systemd-%E7%9A%84%E6%BC%94%E8%BF%9B/">
  <meta property="og:site_name" content="LuyangのBlog">
  <meta property="og:title" content="📘Linux 初始化系统技术文档：从 SysVinit 到 systemd 的演进">
  <meta property="og:description" content="Linux 初始化系统技术文档：从 SysVinit 到 systemd 的演进 1. 概述 Linux 初始化系统是操作系统启动过程中第一个用户空间进程（PID 1），负责引导用户空间环境、管理系统服务和进程。本文档详细介绍了 Linux 初始化系统的发展历程、技术特点及各系统的比较。
2. 初始化系统发展历程 timeline title Linux 初始化系统发展时间线 section 传统时期 1991 : SysVinit 成为主流 : 基于运行级别 : 串行启动机制 section 演进时期 2006 : Ubuntu 开发 Upstart : 事件驱动架构 : 初步并行启动 2007 : Gentoo 推出 OpenRC : 依赖驱动启动 : 兼容传统脚本 section 现代时期 2010 : systemd 诞生 : 全面并行启动 : 统一系统管理 2010s : 专有领域方案 : procd (嵌入式) : runit (轻量级) 3. 主要初始化系统详解 3.1 SysVinit (System V Init) ​​诞生时间​​：1980年代（源自UNIX System V）">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-09-18T02:30:00+08:00">
    <meta property="article:modified_time" content="2025-09-18T02:30:00+08:00">
    <meta property="article:tag" content="Ubuntu">
    <meta property="article:tag" content="Systemd">
    <meta property="article:tag" content="SysVinit">
    <meta property="article:tag" content="初始化系统">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="📘Linux 初始化系统技术文档：从 SysVinit 到 systemd 的演进">
  <meta name="twitter:description" content="Linux 初始化系统技术文档：从 SysVinit 到 systemd 的演进 1. 概述 Linux 初始化系统是操作系统启动过程中第一个用户空间进程（PID 1），负责引导用户空间环境、管理系统服务和进程。本文档详细介绍了 Linux 初始化系统的发展历程、技术特点及各系统的比较。
2. 初始化系统发展历程 timeline title Linux 初始化系统发展时间线 section 传统时期 1991 : SysVinit 成为主流 : 基于运行级别 : 串行启动机制 section 演进时期 2006 : Ubuntu 开发 Upstart : 事件驱动架构 : 初步并行启动 2007 : Gentoo 推出 OpenRC : 依赖驱动启动 : 兼容传统脚本 section 现代时期 2010 : systemd 诞生 : 全面并行启动 : 统一系统管理 2010s : 专有领域方案 : procd (嵌入式) : runit (轻量级) 3. 主要初始化系统详解 3.1 SysVinit (System V Init) ​​诞生时间​​：1980年代（源自UNIX System V）">

      <link rel="stylesheet" href="/css/root.min.0e732b812b9751962e01a7c4798a1211cd5f8ac8abec7f99793fe306989e459f.css" integrity="sha256-DnMrgSuXUZYuAafEeYoSEc1fisir7H&#43;ZeT/jBpieRZ8=" crossorigin="anonymous">
      <link rel="stylesheet" href="/css/bundle.min.e139b0e3b3aff8f0e8e0272554b671a06c857a42278b36c539d96c69ddee2ca2.css" integrity="sha256-4Tmw47Ov&#43;PDo4CclVLZxoGyFekInizbFOdlsad3uLKI=" crossorigin="anonymous">

      <script src="/js/bundle.995e4ec99401021e081ec256bee66154ef7f4e5136809432513b2e6d014b4b1d.js" integrity="sha256-mV5OyZQBAh4IHsJWvuZhVO9/TlE2gJQyUTsubQFLSx0=" crossorigin="anonymous"></script><script defer src="/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js" integrity="sha256-ZFlLEl97eL30&#43;oMWlVkiu&#43;uxzWuu8/FmVL/KIDCfGPg="></script>
<script defer src="/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js" integrity="sha256-HZgPhN8R8&#43;t8jF8X9UHUmgYRYI3xed10&#43;n8GIl61as4="></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

</head>
<body class="notransition">
  <div id="container">
    <header id="main-header"><div role="navigation" aria-label="Main">
  <div class="nav-left">
    <a href="/" style="color: inherit;">LuyangのBlog</a>
  </div>
  <div class="nav-right">
    <div style="position:absolute;width:0px;height:0px;">
      <div id="nav-dropdown-menu" class="hidden" href="#">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a href="/features/"
      >Features</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >About</a>
    </div>
</div>
    </div>
    <a id="nav-dropdown-button" href="#"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
    <div id="nav-menu">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a href="/features/"
      >Features</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >About</a>
    </div>
</div>
    <a id="theme-switcher" href="#">
<svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

<svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
  </div>
</div>
</header>
    <div class="flex grow">
      <div id="main-pane">
        <main id="main-content"><div class="single-header">
<ol class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="/">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content='1' />
    </li>
    <span>&nbsp»&nbsp</span>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="/posts/">
        <span itemprop="name">Posts</span>
      </a>
      <meta itemprop="position" content='2' />
    </li>
    <span>&nbsp»&nbsp</span>
</ol>
<h1>📘Linux 初始化系统技术文档：从 SysVinit 到 systemd 的演进</h1><time class="dim" datetime="2025-09-18T02:30:00&#43;08:00">September 18, 2025</time><div class="term-container"><div class="tag">
        <a href="/tags/ubuntu/">#ubuntu</a>
      </div><div class="tag">
        <a href="/tags/systemd/">#systemd</a>
      </div><div class="tag">
        <a href="/tags/sysvinit/">#SysVinit</a>
      </div><div class="tag">
        <a href="/tags/%E5%88%9D%E5%A7%8B%E5%8C%96%E7%B3%BB%E7%BB%9F/">#初始化系统</a>
      </div></ol></div>
  <section class="page-section"><h1 id="linux-初始化系统技术文档从-sysvinit-到-systemd-的演进">Linux 初始化系统技术文档：从 SysVinit 到 systemd 的演进</h1>
<h2 id="1-概述">1. 概述</h2>
<p>Linux 初始化系统是操作系统启动过程中第一个用户空间进程（PID 1），负责引导用户空间环境、管理系统服务和进程。本文档详细介绍了 Linux 初始化系统的发展历程、技术特点及各系统的比较。</p>
<h2 id="2-初始化系统发展历程">2. 初始化系统发展历程</h2>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">timeline
    title Linux 初始化系统发展时间线
    section 传统时期
        1991 : SysVinit 成为主流
                : 基于运行级别
                : 串行启动机制
    section 演进时期
        2006 : Ubuntu 开发 Upstart
              : 事件驱动架构
              : 初步并行启动
        2007 : Gentoo 推出 OpenRC
              : 依赖驱动启动
              : 兼容传统脚本
    section 现代时期
        2010 : systemd 诞生
              : 全面并行启动
              : 统一系统管理
        2010s : 专有领域方案
               : procd (嵌入式)
               : runit (轻量级)
</code></pre><h2 id="3-主要初始化系统详解">3. 主要初始化系统详解</h2>
<h3 id="31-sysvinit-system-v-init">3.1 SysVinit (System V Init)</h3>
<p>​<strong>​诞生时间​</strong>​：1980年代（源自UNIX System V）</p>
<p>​<strong>​核心特性​</strong>​：</p>
<ul>
<li>基于运行级别（0-6）的系统状态管理</li>
<li>串行启动过程，顺序执行初始化脚本</li>
<li>使用Shell脚本管理服务启动/停止</li>
</ul>
<p>​<strong>​脚本结构​</strong>​：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/etc/rc.d/
</span></span><span style="display:flex;"><span>├── rc0.d/   <span style="color:#75715e"># 关机运行级别</span>
</span></span><span style="display:flex;"><span>├── rc1.d/   <span style="color:#75715e"># 单用户模式</span>
</span></span><span style="display:flex;"><span>├── rc2.d/   <span style="color:#75715e"># 多用户无网络</span>
</span></span><span style="display:flex;"><span>├── rc3.d/   <span style="color:#75715e"># 多用户控制台</span>
</span></span><span style="display:flex;"><span>├── rc4.d/   <span style="color:#75715e"># 用户自定义</span>
</span></span><span style="display:flex;"><span>├── rc5.d/   <span style="color:#75715e"># 多用户图形界面</span>
</span></span><span style="display:flex;"><span>├── rc6.d/   <span style="color:#75715e"># 重启运行级别</span>
</span></span><span style="display:flex;"><span>└── init.d/  <span style="color:#75715e"># 实际脚本目录</span>
</span></span></code></pre></div><p>​<strong>​主要命令​</strong>​：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 管理服务</span>
</span></span><span style="display:flex;"><span>/etc/init.d/service_name start|stop|restart|status
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 改变运行级别</span>
</span></span><span style="display:flex;"><span>init <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>telinit <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 关机/重启</span>
</span></span><span style="display:flex;"><span>shutdown -h now
</span></span><span style="display:flex;"><span>reboot
</span></span></code></pre></div><p>​<strong>​优缺点​</strong>​：</p>
<ul>
<li>✅ 简单稳定，易于理解和调试</li>
<li>✅ 脚本透明，可完全自定义</li>
<li>❌ 启动速度慢（串行执行）</li>
<li>❌ 无法处理动态事件（如热插拔设备）</li>
<li>❌ 依赖关系管理复杂</li>
</ul>
<h3 id="32-upstart">3.2 Upstart</h3>
<p>​<strong>​诞生时间​</strong>​：2006年（由Ubuntu开发）</p>
<p>​<strong>​核心创新​</strong>​：</p>
<ul>
<li>事件驱动架构，响应系统事件</li>
<li>并行服务启动，显著提升启动速度</li>
<li>更好的硬件热插拔支持</li>
</ul>
<p>​<strong>​配置文件示例​</strong>​（/etc/init/nginx.conf）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Nginx - 高性能HTTP服务器</span>
</span></span><span style="display:flex;"><span>description <span style="color:#e6db74">&#34;Nginx HTTP服务器&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在运行级别2、3、4、5启动，在0、1、6停止</span>
</span></span><span style="display:flex;"><span>start on runlevel <span style="color:#f92672">[</span>2345<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>stop on runlevel <span style="color:#f92672">[</span>016<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 期望以daemon方式运行</span>
</span></span><span style="display:flex;"><span>expect fork
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 启动服务</span>
</span></span><span style="display:flex;"><span>exec /usr/sbin/nginx -g <span style="color:#e6db74">&#34;daemon on;&#34;</span>
</span></span></code></pre></div><p>​<strong>​主要命令​</strong>​：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 管理任务</span>
</span></span><span style="display:flex;"><span>start nginx
</span></span><span style="display:flex;"><span>stop nginx
</span></span><span style="display:flex;"><span>status nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看事件</span>
</span></span><span style="display:flex;"><span>initctl list
</span></span><span style="display:flex;"><span>initctl emit event-name
</span></span></code></pre></div><p>​<strong>​应用情况​</strong>​：</p>
<ul>
<li>曾用于Ubuntu（9.10-14.10）、RHEL 6等</li>
<li>现已被systemd取代</li>
</ul>
<h3 id="33-openrc">3.3 OpenRC</h3>
<p>​<strong>​诞生时间​</strong>​：2007年（由Gentoo社区开发）</p>
<p>​<strong>​设计特点​</strong>​：</p>
<ul>
<li>依赖驱动的初始化系统</li>
<li>兼容传统SysVinit脚本</li>
<li>不依赖特定Linux内核特性</li>
</ul>
<p>​<strong>​服务文件示例​</strong>​（/etc/init.d/sshd）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/sbin/openrc-run
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>description<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;OpenSSH 守护进程&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>command<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/usr/sbin/sshd&#34;</span>
</span></span><span style="display:flex;"><span>command_args<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-D&#34;</span>
</span></span><span style="display:flex;"><span>pidfile<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/var/run/sshd.pid&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>depend<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    need net
</span></span><span style="display:flex;"><span>    use dns
</span></span><span style="display:flex;"><span>    before firewall
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>​<strong>​主要命令​</strong>​：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 管理服务</span>
</span></span><span style="display:flex;"><span>rc-service service_name start
</span></span><span style="display:flex;"><span>rc-status
</span></span><span style="display:flex;"><span>rc-update add service_name default
</span></span></code></pre></div><p>​<strong>​应用情况​</strong>​：</p>
<ul>
<li>Gentoo Linux及其衍生版</li>
<li>Alpine Linux（Docker基础镜像常用）</li>
</ul>
<h3 id="34-runit">3.4 runit</h3>
<p>​<strong>​诞生时间​</strong>​：2004年</p>
<p>​<strong>​设计哲学​</strong>​：</p>
<ul>
<li>简单、可靠、最小化设计</li>
<li>核心功能：进程监督（自动重启崩溃服务）</li>
<li>极快的启动速度</li>
</ul>
<p>​<strong>​目录结构​</strong>​：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/etc/service/
</span></span><span style="display:flex;"><span>└── nginx/
</span></span><span style="display:flex;"><span>    ├── run      <span style="color:#75715e"># 启动脚本</span>
</span></span><span style="display:flex;"><span>    └── finish   <span style="color:#75715e"># 停止脚本</span>
</span></span></code></pre></div><p>​<strong>​服务示例​</strong>​（/etc/service/nginx/run）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/sh
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>exec 2&gt;&amp;<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>exec /usr/sbin/nginx -g <span style="color:#e6db74">&#34;daemon off;&#34;</span>
</span></span></code></pre></div><p>​<strong>​主要命令​</strong>​：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 管理服务</span>
</span></span><span style="display:flex;"><span>sv start nginx
</span></span><span style="display:flex;"><span>sv status nginx
</span></span><span style="display:flex;"><span>sv restart nginx
</span></span></code></pre></div><p>​<strong>​应用情况​</strong>​：</p>
<ul>
<li>Void Linux默认初始化系统</li>
<li>轻量级容器环境</li>
<li>需要高可靠性的服务环境</li>
</ul>
<h3 id="35-systemd">3.5 systemd</h3>
<p>​<strong>​诞生时间​</strong>​：2010年（由Lennart Poettering和Kay Sievers开发）</p>
<p>​<strong>​架构创新​</strong>​：</p>
<ul>
<li>并行启动服务，基于依赖关系解析</li>
<li>统一的服务管理配置（单元文件）</li>
<li>集成系统管理功能（日志、定时任务、网络等）</li>
</ul>
<p>​<strong>​服务单元示例​</strong>​（/etc/systemd/system/nginx.service）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>Unit<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Description<span style="color:#f92672">=</span>The NGINX HTTP and reverse proxy server
</span></span><span style="display:flex;"><span>After<span style="color:#f92672">=</span>network.target network-online.target
</span></span><span style="display:flex;"><span>Wants<span style="color:#f92672">=</span>network-online.target
</span></span><span style="display:flex;"><span>Documentation<span style="color:#f92672">=</span>https://nginx.org/en/docs/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Type<span style="color:#f92672">=</span>forking
</span></span><span style="display:flex;"><span>PIDFile<span style="color:#f92672">=</span>/var/run/nginx.pid
</span></span><span style="display:flex;"><span>ExecStartPre<span style="color:#f92672">=</span>/usr/bin/nginx -t
</span></span><span style="display:flex;"><span>ExecStart<span style="color:#f92672">=</span>/usr/bin/nginx
</span></span><span style="display:flex;"><span>ExecReload<span style="color:#f92672">=</span>/bin/kill -s HUP $MAINPID
</span></span><span style="display:flex;"><span>ExecStop<span style="color:#f92672">=</span>/bin/kill -s QUIT $MAINPID
</span></span><span style="display:flex;"><span>TimeoutStopSec<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>KillMode<span style="color:#f92672">=</span>mixed
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Install<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>WantedBy<span style="color:#f92672">=</span>multi-user.target
</span></span></code></pre></div><p>​<strong>​主要命令​</strong>​：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 管理服务</span>
</span></span><span style="display:flex;"><span>systemctl start nginx
</span></span><span style="display:flex;"><span>systemctl status nginx
</span></span><span style="display:flex;"><span>systemctl enable nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 系统管理</span>
</span></span><span style="display:flex;"><span>systemctl halt        <span style="color:#75715e"># 关机</span>
</span></span><span style="display:flex;"><span>systemctl reboot      <span style="color:#75715e"># 重启</span>
</span></span><span style="display:flex;"><span>systemctl suspend     <span style="color:#75715e"># 挂起</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 日志查看</span>
</span></span><span style="display:flex;"><span>journalctl -u nginx
</span></span><span style="display:flex;"><span>journalctl -f
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 分析启动性能</span>
</span></span><span style="display:flex;"><span>systemd-analyze blame
</span></span><span style="display:flex;"><span>systemd-analyze critical-chain nginx.service
</span></span></code></pre></div><p>​<strong>​应用情况​</strong>​：</p>
<ul>
<li>绝大多数主流Linux发行版默认初始化系统</li>
<li>Debian、Ubuntu、RHEL、CentOS、Fedora、Arch Linux等</li>
</ul>
<h3 id="36-专有领域方案">3.6 专有领域方案</h3>
<p>​<strong>​procd​</strong>​：</p>
<ul>
<li>用于OpenWrt路由器的轻量级初始化系统</li>
<li>专注于嵌入式设备资源限制</li>
<li>核心功能：进程管理和监控</li>
</ul>
<p>​<strong>​s6​</strong>​：</p>
<ul>
<li>另一款轻量级进程监督工具集</li>
<li>设计注重简单性和正确性</li>
<li>常用于容器和最小化系统</li>
</ul>
<h2 id="4-技术对比分析">4. 技术对比分析</h2>
<h3 id="41-性能对比">4.1 性能对比</h3>
<table>
  <thead>
      <tr>
          <th>特性</th>
          <th>SysVinit</th>
          <th>Upstart</th>
          <th>OpenRC</th>
          <th>runit</th>
          <th>systemd</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>启动速度</td>
          <td>慢</td>
          <td>中等</td>
          <td>中等</td>
          <td>快</td>
          <td>很快</td>
      </tr>
      <tr>
          <td>资源占用</td>
          <td>低</td>
          <td>中等</td>
          <td>低</td>
          <td>很低</td>
          <td>中等</td>
      </tr>
      <tr>
          <td>并行能力</td>
          <td>无</td>
          <td>有限</td>
          <td>有限</td>
          <td>有</td>
          <td>全面</td>
      </tr>
  </tbody>
</table>
<h3 id="42-功能特性对比">4.2 功能特性对比</h3>
<table>
  <thead>
      <tr>
          <th>功能</th>
          <th>SysVinit</th>
          <th>Upstart</th>
          <th>OpenRC</th>
          <th>runit</th>
          <th>systemd</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>依赖管理</td>
          <td>手动</td>
          <td>事件基础</td>
          <td>依赖基础</td>
          <td>简单</td>
          <td>自动依赖解析</td>
      </tr>
      <tr>
          <td>服务监控</td>
          <td>无</td>
          <td>有限</td>
          <td>有限</td>
          <td>有</td>
          <td>有</td>
      </tr>
      <tr>
          <td>日志集成</td>
          <td>无</td>
          <td>无</td>
          <td>无</td>
          <td>无</td>
          <td>有(journald)</td>
      </tr>
      <tr>
          <td>热插拔支持</td>
          <td>有限</td>
          <td>有</td>
          <td>有限</td>
          <td>无</td>
          <td>有</td>
      </tr>
      <tr>
          <td>容器支持</td>
          <td>无</td>
          <td>有限</td>
          <td>有限</td>
          <td>有</td>
          <td>有</td>
      </tr>
  </tbody>
</table>
<h3 id="43-兼容性对比">4.3 兼容性对比</h3>
<table>
  <thead>
      <tr>
          <th>方面</th>
          <th>SysVinit</th>
          <th>Upstart</th>
          <th>OpenRC</th>
          <th>runit</th>
          <th>systemd</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>传统脚本兼容</td>
          <td>完全</td>
          <td>部分</td>
          <td>完全</td>
          <td>需要适配</td>
          <td>部分</td>
      </tr>
      <tr>
          <td>跨发行版支持</td>
          <td>广泛</td>
          <td>有限</td>
          <td>中等</td>
          <td>有限</td>
          <td>广泛</td>
      </tr>
      <tr>
          <td>配置复杂度</td>
          <td>低</td>
          <td>中等</td>
          <td>中等</td>
          <td>低</td>
          <td>高</td>
      </tr>
  </tbody>
</table>
<h2 id="5-迁移指南">5. 迁移指南</h2>
<h3 id="51-从sysvinit迁移到systemd">5.1 从SysVinit迁移到systemd</h3>
<p>​<strong>服务脚本转换​</strong>​：</p>
<ul>
<li>将/etc/init.d/脚本转换为.service单元文件</li>
<li>使用systemd-analyze检查启动性能</li>
</ul>
<p>​<strong>​运行级别映射​</strong>​：</p>
<table>
  <thead>
      <tr>
          <th>SysVinit运行级别</th>
          <th>systemd目标</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>0</td>
          <td>poweroff.target</td>
      </tr>
      <tr>
          <td>1</td>
          <td>rescue.target</td>
      </tr>
      <tr>
          <td>2, 3, 4</td>
          <td>multi-user.target</td>
      </tr>
      <tr>
          <td>5</td>
          <td>graphical.target</td>
      </tr>
      <tr>
          <td>6</td>
          <td>reboot.target</td>
      </tr>
  </tbody>
</table>
<p><strong>​常用命令对比​</strong>​：</p>
<table>
  <thead>
      <tr>
          <th>SysVinit命令</th>
          <th>systemd命令</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>service ssh start</td>
          <td>systemctl start ssh</td>
      </tr>
      <tr>
          <td>chkconfig ssh on</td>
          <td>systemctl enable ssh</td>
      </tr>
      <tr>
          <td>runlevel</td>
          <td>systemctl get-default</td>
      </tr>
  </tbody>
</table>
<h3 id="52-从systemd迁移到runit">5.2 从systemd迁移到runit</h3>
<p><strong>​创建服务目录​</strong>​：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir -p /etc/sv/nginx
</span></span></code></pre></div><p><strong>​创建run脚本​</strong>​：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat &gt; /etc/sv/nginx/run <span style="color:#e6db74">&lt;&lt; EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">#!/bin/sh
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">exec /usr/sbin/nginx -g &#34;daemon off;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>chmod +x /etc/sv/nginx/run
</span></span></code></pre></div><p><strong>​创建服务链接​</strong>​：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ln -s /etc/sv/nginx /var/service/
</span></span></code></pre></div><h2 id="6-选择建议">6. 选择建议</h2>
<h3 id="61-根据使用场景选择">6.1 根据使用场景选择</h3>
<p>​<strong>​服务器环境​</strong>​：</p>
<ul>
<li>✅ systemd：功能全面，管理方便，生态丰富</li>
<li>✅ OpenRC：稳定可靠，资源占用低</li>
</ul>
<p>​<strong>​桌面环境​</strong>​：</p>
<ul>
<li>✅ systemd：与现代桌面集成度高</li>
<li>✅ runit：轻量快速，响应迅速</li>
</ul>
<p>​<strong>​嵌入式设备​</strong>​：</p>
<ul>
<li>✅ procd：专为资源受限环境设计</li>
<li>✅ runit：简单可靠，占用资源极少</li>
</ul>
<p>​<strong>​容器环境​</strong>​：</p>
<ul>
<li>✅ runit：轻量级，适合最小化镜像</li>
<li>✅ s6：专注于进程监督</li>
</ul>
<p>​<strong>​传统系统维护​</strong>​：</p>
<ul>
<li>✅ SysVinit：兼容老旧系统</li>
<li>✅ OpenRC：平衡传统与现代需求</li>
</ul>
<h3 id="62-未来发展考虑">6.2 未来发展考虑</h3>
<ol>
<li>​<strong>​systemd​</strong>​继续占据主流地位，功能不断增强</li>
<li>轻量级方案在容器和嵌入式领域保持重要地位</li>
<li>安全性、容器集成和资源控制成为发展重点</li>
</ol>
<h2 id="7-总结">7. 总结</h2>
<p>Linux初始化系统经历了从简单的串行启动到复杂的并行依赖管理的演进过程。当前systemd已成为主流选择，但轻量级方案如runit、OpenRC在特定场景下仍有其价值。选择初始化系统应考虑具体需求：功能完整性、资源限制、兼容性要求等因素。</p>
<p>理解各初始化系统的设计哲学和实现特点，有助于在不同场景下做出合适的技术选型，并有效进行系统维护和故障排除。</p>
</section></main>
        <footer id="main-footer"><div class="footer">
  <a href="#">Scroll to Top</a>
  <div class="footer-copyright">
    <div class="dim">© 2025 Lu Yang</div>
    <div>Made with ❤️ and powered by <a href="https://github.com/math-queiroz/rusty-typewriter" target="_blank">Rusty Typewriter</a> theme for <a href="https://gohugo.io/" target="_blank">Hugo</a></div>
  </div>
</div>
</footer>
      </div><aside id="side-pane" class="side-sticky"><div class="side-details">
    <span>575 words</span>
    <span>8 - 10 minutes read</span></div><h3>Table Of Contents</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#1-概述">1. 概述</a></li>
    <li><a href="#2-初始化系统发展历程">2. 初始化系统发展历程</a></li>
    <li><a href="#3-主要初始化系统详解">3. 主要初始化系统详解</a>
      <ul>
        <li><a href="#31-sysvinit-system-v-init">3.1 SysVinit (System V Init)</a></li>
        <li><a href="#32-upstart">3.2 Upstart</a></li>
        <li><a href="#33-openrc">3.3 OpenRC</a></li>
        <li><a href="#34-runit">3.4 runit</a></li>
        <li><a href="#35-systemd">3.5 systemd</a></li>
        <li><a href="#36-专有领域方案">3.6 专有领域方案</a></li>
      </ul>
    </li>
    <li><a href="#4-技术对比分析">4. 技术对比分析</a>
      <ul>
        <li><a href="#41-性能对比">4.1 性能对比</a></li>
        <li><a href="#42-功能特性对比">4.2 功能特性对比</a></li>
        <li><a href="#43-兼容性对比">4.3 兼容性对比</a></li>
      </ul>
    </li>
    <li><a href="#5-迁移指南">5. 迁移指南</a>
      <ul>
        <li><a href="#51-从sysvinit迁移到systemd">5.1 从SysVinit迁移到systemd</a></li>
        <li><a href="#52-从systemd迁移到runit">5.2 从systemd迁移到runit</a></li>
      </ul>
    </li>
    <li><a href="#6-选择建议">6. 选择建议</a>
      <ul>
        <li><a href="#61-根据使用场景选择">6.1 根据使用场景选择</a></li>
        <li><a href="#62-未来发展考虑">6.2 未来发展考虑</a></li>
      </ul>
    </li>
    <li><a href="#7-总结">7. 总结</a></li>
  </ul>
</nav><h3>Related</h3>
    <ul><li><a href="/posts/systemd-%E5%8D%95%E5%85%83%E6%96%87%E4%BB%B6/">📘systemd 单元文件</a></li><li><a href="/posts/svn-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">📘SVN 服务器环境搭建</a></li><li><a href="/posts/ubuntu_git_server_build_push_code/">Ubuntu git 仓库搭建及代码上传</a></li><li><a href="/posts/ubuntu_2004_%E5%8D%87%E7%BA%A7%E5%86%85%E6%A0%B8/">ubuntu 20.04 升级内核</a></li><li><a href="/posts/ubuntu_200406_install_tp_link_ac1300_usb_wifi_adaptor_driver/">ubuntu 20.04.6 install tp link a1300 usb wifi adaptor driver</a></li></ul></aside></div>
  </div>
</body>
</html>
