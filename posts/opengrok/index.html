<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>opengrok | LuyangのBlog</title>
<link rel="icon" href="favicon.svg" sizes="any" type="image/svg+xml" /><meta property="og:url" content="/posts/opengrok/">
  <meta property="og:site_name" content="LuyangのBlog">
  <meta property="og:title" content="opengrok">
  <meta property="og:description" content="环境 ubuntu 18.04 x64
依赖工具 jdk 1.8 universal-ctags tomcat8 opengrok 配置流程 jdk 安装 sudo apt install openjdk-8-jdk openjdk-8-jdk-headless openjdk-8-jre openjdk-8-jre-dcevm openjdk-8-jre-headless
通常android编译环境能够正常工作jdk环境已经ok.
$ java -version openjdk version &#34;1.8.0_252&#34; OpenJDK Runtime Environment (build 1.8.0_252-8u252-b09-1~18.04-b09) OpenJDK 64-Bit Server VM (build 25.252-b09, mixed mode) universal-ctags ubuntu 自带包管理器安装的 ctags 是 exuberant-ctags, 如果已经安装请先通过如下命令卸载
sudo apt purge exuberant-ctags 通过源码安装 universal-ctags
git clone https://gitee.com/neo532/universal-ctags.git cd universal-ctags ./autogen.sh ./configure make sudo make install $ /usr/local/bin/ctags --version Universal Ctags 0.0.0(054bee0), Copyright (C) 2015 Universal Ctags Team Universal Ctags is derived from Exuberant Ctags. Exuberant Ctags 5.8, Copyright (C) 1996-2009 Darren Hiebert Compiled: May 10 2020, 10:34:29 URL: https://ctags.io/ Optional compiled features: &#43;wildcards, &#43;regex, &#43;iconv, &#43;option-directory tomcat8 sudo apt install tomcat8 sudo service tomcat8 start opengrok How to setup OpenGrok">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="1970-01-01T00:00:00+08:00">
    <meta property="article:modified_time" content="1970-01-01T00:00:00+08:00">
    <meta property="article:tag" content="Opengrok">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="opengrok">
  <meta name="twitter:description" content="环境 ubuntu 18.04 x64
依赖工具 jdk 1.8 universal-ctags tomcat8 opengrok 配置流程 jdk 安装 sudo apt install openjdk-8-jdk openjdk-8-jdk-headless openjdk-8-jre openjdk-8-jre-dcevm openjdk-8-jre-headless
通常android编译环境能够正常工作jdk环境已经ok.
$ java -version openjdk version &#34;1.8.0_252&#34; OpenJDK Runtime Environment (build 1.8.0_252-8u252-b09-1~18.04-b09) OpenJDK 64-Bit Server VM (build 25.252-b09, mixed mode) universal-ctags ubuntu 自带包管理器安装的 ctags 是 exuberant-ctags, 如果已经安装请先通过如下命令卸载
sudo apt purge exuberant-ctags 通过源码安装 universal-ctags
git clone https://gitee.com/neo532/universal-ctags.git cd universal-ctags ./autogen.sh ./configure make sudo make install $ /usr/local/bin/ctags --version Universal Ctags 0.0.0(054bee0), Copyright (C) 2015 Universal Ctags Team Universal Ctags is derived from Exuberant Ctags. Exuberant Ctags 5.8, Copyright (C) 1996-2009 Darren Hiebert Compiled: May 10 2020, 10:34:29 URL: https://ctags.io/ Optional compiled features: &#43;wildcards, &#43;regex, &#43;iconv, &#43;option-directory tomcat8 sudo apt install tomcat8 sudo service tomcat8 start opengrok How to setup OpenGrok">

      <link rel="stylesheet" href="/css/root.min.0e732b812b9751962e01a7c4798a1211cd5f8ac8abec7f99793fe306989e459f.css" integrity="sha256-DnMrgSuXUZYuAafEeYoSEc1fisir7H&#43;ZeT/jBpieRZ8=" crossorigin="anonymous">
      <link rel="stylesheet" href="/css/bundle.min.ffb26980ae2df7bdfe47815d8a3f0130f36070ee4a3320a5f22d16842be2537f.css" integrity="sha256-/7JpgK4t973&#43;R4Fdij8BMPNgcO5KMyCl8i0WhCviU38=" crossorigin="anonymous">

      <script src="/js/bundle.995e4ec99401021e081ec256bee66154ef7f4e5136809432513b2e6d014b4b1d.js" integrity="sha256-mV5OyZQBAh4IHsJWvuZhVO9/TlE2gJQyUTsubQFLSx0=" crossorigin="anonymous"></script><script defer src="/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js" integrity="sha256-ZFlLEl97eL30&#43;oMWlVkiu&#43;uxzWuu8/FmVL/KIDCfGPg="></script>
<script defer src="/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js" integrity="sha256-HZgPhN8R8&#43;t8jF8X9UHUmgYRYI3xed10&#43;n8GIl61as4="></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

</head>
<body class="notransition">
  <div id="container">
    <header id="main-header"><div role="navigation" aria-label="Main">
  <div class="nav-left">
    <a href="/" style="color: inherit;">LuyangのBlog</a>
  </div>
  <div class="nav-right">
    <div style="position:absolute;width:0px;height:0px;">
      <div id="nav-dropdown-menu" class="hidden" href="#">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a href="/features/"
      >Features</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >About</a>
    </div>
</div>
    </div>
    <a id="nav-dropdown-button" href="#"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
    <div id="nav-menu">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a href="/features/"
      >Features</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >About</a>
    </div>
</div>
    <a id="theme-switcher" href="#">
<svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

<svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
  </div>
</div>
</header>
    <div class="flex grow">
      <div id="main-pane">
        <main id="main-content"><div class="single-header">
<ol class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="/">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content='1' />
    </li>
    <span>&nbsp»&nbsp</span>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="/posts/">
        <span itemprop="name">Posts</span>
      </a>
      <meta itemprop="position" content='2' />
    </li>
    <span>&nbsp»&nbsp</span>
</ol>
<h1>opengrok</h1><time class="dim" datetime="1970-01-01T00:00:00&#43;08:00">January 1, 1970</time><div class="term-container"><div class="tag">
        <a href="/tags/opengrok/">#opengrok</a>
      </div></ol></div>
  <section class="page-section"><h2 id="环境">环境</h2>
<p>ubuntu 18.04 x64</p>
<h2 id="依赖工具">依赖工具</h2>
<ul>
<li>jdk 1.8</li>
<li>universal-ctags</li>
<li>tomcat8</li>
<li><a href="https://github.com/OpenGrok/OpenGrok/releases">opengrok</a></li>
</ul>
<h2 id="配置流程">配置流程</h2>
<h3 id="jdk-安装">jdk 安装</h3>
<p><code>sudo apt install openjdk-8-jdk openjdk-8-jdk-headless openjdk-8-jre openjdk-8-jre-dcevm openjdk-8-jre-headless</code></p>
<p>通常android编译环境能够正常工作jdk环境已经ok.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ java -version
</span></span><span style="display:flex;"><span>openjdk version <span style="color:#e6db74">&#34;1.8.0_252&#34;</span>
</span></span><span style="display:flex;"><span>OpenJDK Runtime Environment <span style="color:#f92672">(</span>build 1.8.0_252-8u252-b09-1~18.04-b09<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>OpenJDK 64-Bit Server VM <span style="color:#f92672">(</span>build 25.252-b09, mixed mode<span style="color:#f92672">)</span>
</span></span></code></pre></div><h3 id="universal-ctags">universal-ctags</h3>
<p>ubuntu 自带包管理器安装的 <code>ctags</code> 是 <code>exuberant-ctags</code>, 如果已经安装请先通过如下命令卸载</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt purge exuberant-ctags
</span></span></code></pre></div><p>通过源码安装 <code>universal-ctags</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://gitee.com/neo532/universal-ctags.git
</span></span><span style="display:flex;"><span>cd universal-ctags
</span></span><span style="display:flex;"><span>./autogen.sh
</span></span><span style="display:flex;"><span>./configure
</span></span><span style="display:flex;"><span>make
</span></span><span style="display:flex;"><span>sudo make install
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ /usr/local/bin/ctags --version
</span></span><span style="display:flex;"><span>Universal Ctags 0.0.0<span style="color:#f92672">(</span>054bee0<span style="color:#f92672">)</span>, Copyright <span style="color:#f92672">(</span>C<span style="color:#f92672">)</span> <span style="color:#ae81ff">2015</span> Universal Ctags Team
</span></span><span style="display:flex;"><span>Universal Ctags is derived from Exuberant Ctags.
</span></span><span style="display:flex;"><span>Exuberant Ctags 5.8, Copyright <span style="color:#f92672">(</span>C<span style="color:#f92672">)</span> 1996-2009 Darren Hiebert
</span></span><span style="display:flex;"><span>  Compiled: May <span style="color:#ae81ff">10</span> 2020, 10:34:29
</span></span><span style="display:flex;"><span>  URL: https://ctags.io/
</span></span><span style="display:flex;"><span>  Optional compiled features: +wildcards, +regex, +iconv, +option-directory
</span></span></code></pre></div><h3 id="tomcat8">tomcat8</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install tomcat8
</span></span><span style="display:flex;"><span>sudo service tomcat8 start
</span></span></code></pre></div><h3 id="opengrok">opengrok</h3>
<blockquote>
<p><a href="https://github.com/oracle/opengrok/wiki/How-to-setup-OpenGrok">How to setup OpenGrok</a></p></blockquote>
<h4 id="安装工具包">安装工具包</h4>
<p><a href="https://github.com/oracle/opengrok/releases">下载opengrok-非source code版， 漫长的等待&hellip;&hellip;</a></p>
<p>搭建 opengrok 目录结构 <code>sudo mkdir /opengrok/{src,data,dist,etc,log}</code></p>
<p>解压opengrok到指定路径 <code>tar -C /opengrok/dist --strip-components=1 -xzf opengrok-X.Y.Z.tar.gz</code></p>
<h4 id="install-management-tools-optional">Install management tools (optional)</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd /opengrok/dist/tools
</span></span><span style="display:flex;"><span>python3 -m pip install opengrok-tools.tar.gz
</span></span></code></pre></div><h4 id="deploy-the-web-application">Deploy the web application</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cp /opengrok/dist/lib/source.war /var/lib/tomcat8/webapps/
</span></span></code></pre></div><h4 id="indexing">Indexing</h4>
<p>通过修改如下 <code>-s</code> 选项来配置修改源码路径.</p>
<p>假设我的android源码路径为 <code>/opengrok/src/A64_android</code> ，则使用如下参数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>java <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -Djava.util.logging.config.file<span style="color:#f92672">=</span>/opengrok/etc/logging.properties <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -jar /opengrok/dist/lib/opengrok.jar <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -c /usr/local/bin/ctags <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -s /opengrok/src -d /opengrok/data -H -P -S -G <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    -W /opengrok/etc/configuration.xml -U http://localhost:8080/source
</span></span></code></pre></div><h2 id="rtfsc">RTFSC</h2>
<p>访问网址： <code>http://localhost:8080/source/</code></p>
</section></main>
        <footer id="main-footer"><div class="footer">
  <a href="#">Scroll to Top</a>
  <div class="footer-copyright">
    <div class="dim">© 2025 Lu Yang</div>
    <div>Made with ❤️ and powered by <a href="https://github.com/math-queiroz/rusty-typewriter" target="_blank">Rusty Typewriter</a> theme for <a href="https://gohugo.io/" target="_blank">Hugo</a></div>
  </div>
</div>
</footer>
      </div><aside id="side-pane" class="side-sticky"><div class="side-details">
    <span>188 words</span>
    <span>2 - 2 minutes read</span></div><h3>Table Of Contents</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#环境">环境</a></li>
    <li><a href="#依赖工具">依赖工具</a></li>
    <li><a href="#配置流程">配置流程</a>
      <ul>
        <li><a href="#jdk-安装">jdk 安装</a></li>
        <li><a href="#universal-ctags">universal-ctags</a></li>
        <li><a href="#tomcat8">tomcat8</a></li>
        <li><a href="#opengrok">opengrok</a></li>
      </ul>
    </li>
    <li><a href="#rtfsc">RTFSC</a></li>
  </ul>
</nav></aside></div>
  </div>
</body>
</html>
