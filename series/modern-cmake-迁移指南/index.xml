<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Modern CMake è¿ç§»æŒ‡å— on Luyangã®Blog</title>
    <link>/series/modern-cmake-%E8%BF%81%E7%A7%BB%E6%8C%87%E5%8D%97/</link>
    <description>Recent content in Modern CMake è¿ç§»æŒ‡å— on Luyangã®Blog</description>
    <generator>Hugo</generator>
    <language>en-US</language>
    <lastBuildDate>Tue, 10 Dec 2024 17:00:00 +0800</lastBuildDate>
    <atom:link href="/series/modern-cmake-%E8%BF%81%E7%A7%BB%E6%8C%87%E5%8D%97/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>å‘Šåˆ«å…¨å±€æ±¡æŸ“ï¼šModern CMake çš„ç›®æ ‡çº§éš”ç¦»è§„èŒƒ</title>
      <link>/posts/%E5%91%8A%E5%88%AB%E5%85%A8%E5%B1%80%E6%B1%A1%E6%9F%93modern-cmake-%E7%9A%84%E7%9B%AE%E6%A0%87%E7%BA%A7%E9%9A%94%E7%A6%BB%E8%A7%84%E8%8C%83/</link>
      <pubDate>Tue, 10 Dec 2024 17:00:00 +0800</pubDate>
      <guid>/posts/%E5%91%8A%E5%88%AB%E5%85%A8%E5%B1%80%E6%B1%A1%E6%9F%93modern-cmake-%E7%9A%84%E7%9B%AE%E6%A0%87%E7%BA%A7%E9%9A%94%E7%A6%BB%E8%A7%84%E8%8C%83/</guid>
      <description>&lt;h1 id=&#34;å‘Šåˆ«å…¨å±€æ±¡æŸ“modern-cmake-çš„ç›®æ ‡çº§éš”ç¦»è§„èŒƒ&#34;&gt;å‘Šåˆ«å…¨å±€æ±¡æŸ“ï¼šModern CMake çš„ç›®æ ‡çº§éš”ç¦»è§„èŒƒ&lt;/h1&gt;&#xA;&lt;h2 id=&#34;-å¼•è¨€ä¸ºä»€ä¹ˆä½ çš„æ„å»ºç³»ç»Ÿæ€»åœ¨å†…è€—&#34;&gt;ğŸš€ å¼•è¨€ï¼šä¸ºä»€ä¹ˆä½ çš„æ„å»ºç³»ç»Ÿæ€»åœ¨â€œå†…è€—â€ï¼Ÿ&lt;/h2&gt;&#xA;&lt;p&gt;å¦‚æœä½ ç»´æŠ¤ç€ä¸€ä¸ªå†å²æ‚ ä¹…æˆ–è§„æ¨¡åºå¤§çš„ C/C++ é¡¹ç›®ï¼Œä½ å¾ˆå¯èƒ½åœ¨é¡¶å±‚ &lt;code&gt;CMakeLists.txt&lt;/code&gt; ä¸­è§åˆ°è¿‡åƒ &lt;code&gt;add_definitions&lt;/code&gt; æˆ– &lt;code&gt;include_directories&lt;/code&gt; è¿™æ ·çš„å‘½ä»¤ã€‚&lt;/p&gt;&#xA;&lt;p&gt;è¿™æ˜¯ä¸€ç§å…¸å‹çš„**ç›®å½•çº§ä½œç”¨åŸŸï¼ˆDirectory Scopeï¼‰**é…ç½®é£æ ¼ï¼Œå®ƒå¸¦æ¥çš„é—®é¢˜æ˜¯ç¾éš¾æ€§çš„ï¼š&lt;strong&gt;å…¨å±€æ±¡æŸ“ï¼ˆGlobal Pollutionï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å…¨å±€æ±¡æŸ“ä¼šéšå¼åœ°å°†é…ç½®å¼ºåŠ ç»™æ‰€æœ‰ç›®æ ‡ï¼ŒåŒ…æ‹¬ç¬¬ä¸‰æ–¹åº“å’Œæµ‹è¯•ç¨‹åºï¼Œå¯¼è‡´ä¾èµ–å…³ç³»æ¨¡ç³Šã€æ¨¡å—é—´éš”ç¦»å¤±æ•ˆï¼Œæœ€ç»ˆæ¼”å˜æˆéš¾ä»¥ç»´æŠ¤çš„â€œæŠ€æœ¯å€ºåŠ¡â€ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Modern CMake çš„æ ¸å¿ƒå“²å­¦æ˜¯ Target-Centricï¼ˆä»¥ç›®æ ‡ä¸ºä¸­å¿ƒï¼‰&lt;/strong&gt;ã€‚æ‰€æœ‰çš„é…ç½®å’Œå±æ€§éƒ½å¿…é¡»ç²¾ç¡®åœ°ç»‘å®šåˆ°éœ€è¦å®ƒçš„ Target ä¸Šã€‚æœ¬è§„èŒƒæ—¨åœ¨å…¨é¢æ¨è¡Œç›®æ ‡çº§éš”ç¦»ï¼Œæ„å»ºä¸€ä¸ªå¥å£®ã€å¯é¢„æµ‹çš„å·¥ç¨‹ä½“ç³»ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;1-æ ¸å¿ƒé—®é¢˜æ¸…å•å¿…é¡»éš”ç¦»çš„-5-å¤§æ±¡æŸ“æº&#34;&gt;1. æ ¸å¿ƒé—®é¢˜æ¸…å•ï¼šå¿…é¡»éš”ç¦»çš„ 5 å¤§æ±¡æŸ“æº&lt;/h2&gt;&#xA;&lt;p&gt;æˆ‘ä»¬å¿…é¡»å°†ä»¥ä¸‹äº”ç±»é…ç½®ä»å…¨å±€å˜é‡æˆ–ç›®å½•çº§å‘½ä»¤ä¸­ç§»é™¤ï¼Œå¹¶è½¬ç§»åˆ° Target å±æ€§ä¸­ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;11-å®å®šä¹‰æ±¡æŸ“-macro-definitions&#34;&gt;1.1. å®å®šä¹‰æ±¡æŸ“ (Macro Definitions)&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;ç—›ç‚¹ï¼š&lt;/strong&gt; &lt;code&gt;add_definitions()&lt;/code&gt; å°†å®ï¼ˆå¦‚ &lt;code&gt;-DDEBUG&lt;/code&gt; æˆ– &lt;code&gt;-DVERSION_ABC&lt;/code&gt;ï¼‰æ‰©æ•£åˆ°æ‰€æœ‰å­ç›®å½•ä¸‹çš„æ‰€æœ‰ Targetã€‚&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;âŒ é—ç•™å†™æ³•&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;âœ… æ¨èå†™æ³•&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;é€‚ç”¨åœºæ™¯è¯´æ˜&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;add_definitions(-DCTRX8188)&lt;/code&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;target_compile_definitions(IfxRfe PRIVATE CTRX8188)&lt;/code&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;ä¼˜å…ˆä½¿ç”¨ &lt;code&gt;PRIVATE&lt;/code&gt;ï¼Œå¦‚æœè¯¥å®è¢«å¤´æ–‡ä»¶å¼•ç”¨ï¼Œåˆ™ä½¿ç”¨ &lt;code&gt;PUBLIC&lt;/code&gt;ã€‚å®å®šä¹‰ä»…ä½œç”¨äºæŒ‡å®šç›®æ ‡ã€‚&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h3 id=&#34;12-è¯­è¨€æ ‡å‡†æ±¡æŸ“-language-standard&#34;&gt;1.2. è¯­è¨€æ ‡å‡†æ±¡æŸ“ (Language Standard)&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;ç—›ç‚¹ï¼š&lt;/strong&gt; &lt;code&gt;CMAKE_C_STANDARD&lt;/code&gt; å…¨å±€å˜é‡å¼ºåˆ¶æ‰€æœ‰ Target ä½¿ç”¨ç›¸åŒçš„è¯­è¨€æ ‡å‡†ï¼Œé™åˆ¶äº†æ–°æ—§ä»£ç å…±å­˜æˆ–æµ‹è¯•ç¨‹åºä½¿ç”¨æ›´é«˜æ ‡å‡†ã€‚&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;âŒ é—ç•™å†™æ³•&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;âœ… æ¨èå†™æ³• A (ç‰¹æ€§ä¼˜å…ˆ)&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;âœ… æ¨èå†™æ³• B (ä¸¥æ ¼å±æ€§)&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;set(CMAKE_C_STANDARD 99)&lt;/code&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;target_compile_features(IfxRfe PRIVATE c_std_99)&lt;/code&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;set_target_properties(IfxRfe PROPERTIES C_STANDARD 99 C_STANDARD_REQUIRED ON)&lt;/code&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;set(CMAKE_CXX_STANDARD 17)&lt;/code&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;target_compile_features(MyApp PRIVATE cxx_std_17)&lt;/code&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;set_target_properties(MyApp PROPERTIES CXX_STANDARD 17 CXX_STANDARD_REQUIRED ON)&lt;/code&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h3 id=&#34;13-å¤´æ–‡ä»¶è·¯å¾„æ±¡æŸ“-include-directories&#34;&gt;1.3. å¤´æ–‡ä»¶è·¯å¾„æ±¡æŸ“ (Include Directories)&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;ç—›ç‚¹ï¼š&lt;/strong&gt; &lt;code&gt;include_directories()&lt;/code&gt; æ˜¯æœ€å±é™©çš„å‘½ä»¤ä¹‹ä¸€ï¼Œå®ƒå°†å¤´æ–‡ä»¶è·¯å¾„æš´éœ²ç»™ç›®å½•ä¸‹æ‰€æœ‰ Targetï¼Œå¯¼è‡´&lt;strong&gt;éšå¼ä¾èµ–&lt;/strong&gt;ã€‚&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
